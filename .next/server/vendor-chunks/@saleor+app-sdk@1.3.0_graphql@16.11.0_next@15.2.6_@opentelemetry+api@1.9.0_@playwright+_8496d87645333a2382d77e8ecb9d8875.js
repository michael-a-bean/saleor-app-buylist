"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@saleor+app-sdk@1.3.0_graphql@16.11.0_next@15.2.6_@opentelemetry+api@1.9.0_@playwright+_8496d87645333a2382d77e8ecb9d8875";
exports.ids = ["vendor-chunks/@saleor+app-sdk@1.3.0_graphql@16.11.0_next@15.2.6_@opentelemetry+api@1.9.0_@playwright+_8496d87645333a2382d77e8ecb9d8875"];
exports.modules = {

/***/ "(pages-dir-node)/../../node_modules/.pnpm/@saleor+app-sdk@1.3.0_graphql@16.11.0_next@15.2.6_@opentelemetry+api@1.9.0_@playwright+_8496d87645333a2382d77e8ecb9d8875/node_modules/@saleor/app-sdk/app-bridge/index.mjs":
/*!***********************************************************************************************************************************************************************************************************!*\
  !*** ../../node_modules/.pnpm/@saleor+app-sdk@1.3.0_graphql@16.11.0_next@15.2.6_@opentelemetry+api@1.9.0_@playwright+_8496d87645333a2382d77e8ecb9d8875/node_modules/@saleor/app-sdk/app-bridge/index.mjs ***!
  \***********************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ActionType: () => (/* reexport safe */ _chunk_XWDAZOZC_mjs__WEBPACK_IMPORTED_MODULE_0__.ActionType),\n/* harmony export */   AppBridge: () => (/* reexport safe */ _chunk_XWDAZOZC_mjs__WEBPACK_IMPORTED_MODULE_0__.AppBridge),\n/* harmony export */   AppBridgeProvider: () => (/* reexport safe */ _chunk_XWDAZOZC_mjs__WEBPACK_IMPORTED_MODULE_0__.AppBridgeProvider),\n/* harmony export */   AppContext: () => (/* reexport safe */ _chunk_XWDAZOZC_mjs__WEBPACK_IMPORTED_MODULE_0__.AppContext),\n/* harmony export */   AppIframeParams: () => (/* reexport safe */ _chunk_XWDAZOZC_mjs__WEBPACK_IMPORTED_MODULE_0__.AppIframeParams),\n/* harmony export */   DashboardEventFactory: () => (/* reexport safe */ _chunk_XWDAZOZC_mjs__WEBPACK_IMPORTED_MODULE_0__.DashboardEventFactory),\n/* harmony export */   EventType: () => (/* reexport safe */ _chunk_XWDAZOZC_mjs__WEBPACK_IMPORTED_MODULE_0__.EventType),\n/* harmony export */   actions: () => (/* reexport safe */ _chunk_XWDAZOZC_mjs__WEBPACK_IMPORTED_MODULE_0__.actions),\n/* harmony export */   createAuthenticatedFetch: () => (/* binding */ createAuthenticatedFetch),\n/* harmony export */   useAppBridge: () => (/* reexport safe */ _chunk_XWDAZOZC_mjs__WEBPACK_IMPORTED_MODULE_0__.useAppBridge),\n/* harmony export */   useAuthenticatedFetch: () => (/* binding */ useAuthenticatedFetch),\n/* harmony export */   useDashboardToken: () => (/* binding */ useDashboardToken),\n/* harmony export */   withAuthorization: () => (/* binding */ withAuthorization)\n/* harmony export */ });\n/* harmony import */ var _chunk_XWDAZOZC_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../chunk-XWDAZOZC.mjs */ \"(pages-dir-node)/../../node_modules/.pnpm/@saleor+app-sdk@1.3.0_graphql@16.11.0_next@15.2.6_@opentelemetry+api@1.9.0_@playwright+_8496d87645333a2382d77e8ecb9d8875/node_modules/@saleor/app-sdk/chunk-XWDAZOZC.mjs\");\n/* harmony import */ var _chunk_NHGUNOYT_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../chunk-NHGUNOYT.mjs */ \"(pages-dir-node)/../../node_modules/.pnpm/@saleor+app-sdk@1.3.0_graphql@16.11.0_next@15.2.6_@opentelemetry+api@1.9.0_@playwright+_8496d87645333a2382d77e8ecb9d8875/node_modules/@saleor/app-sdk/chunk-NHGUNOYT.mjs\");\n/* harmony import */ var _chunk_FTAQRPFZ_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../chunk-FTAQRPFZ.mjs */ \"(pages-dir-node)/../../node_modules/.pnpm/@saleor+app-sdk@1.3.0_graphql@16.11.0_next@15.2.6_@opentelemetry+api@1.9.0_@playwright+_8496d87645333a2382d77e8ecb9d8875/node_modules/@saleor/app-sdk/chunk-FTAQRPFZ.mjs\");\n/* harmony import */ var _chunk_2O5AMG7B_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../chunk-2O5AMG7B.mjs */ \"(pages-dir-node)/../../node_modules/.pnpm/@saleor+app-sdk@1.3.0_graphql@16.11.0_next@15.2.6_@opentelemetry+api@1.9.0_@playwright+_8496d87645333a2382d77e8ecb9d8875/node_modules/@saleor/app-sdk/chunk-2O5AMG7B.mjs\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var debug__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! debug */ \"(pages-dir-node)/../../node_modules/.pnpm/debug@4.4.0/node_modules/debug/src/index.js\");\n/* harmony import */ var jose__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! jose */ \"(pages-dir-node)/../../node_modules/.pnpm/jose@5.10.0/node_modules/jose/dist/node/esm/util/decode_jwt.js\");\n\n\n\n\n\n// src/app-bridge/fetch.ts\n\nvar createAuthenticatedFetch = (appBridge, fetch = global.fetch) => (input, init) => {\n  const { token, saleorApiUrl } = appBridge.getState();\n  const headers = new Headers(init?.headers);\n  headers.set(_chunk_FTAQRPFZ_mjs__WEBPACK_IMPORTED_MODULE_2__.SALEOR_AUTHORIZATION_BEARER_HEADER, token ?? \"\");\n  headers.set(_chunk_FTAQRPFZ_mjs__WEBPACK_IMPORTED_MODULE_2__.SALEOR_API_URL_HEADER, saleorApiUrl ?? \"\");\n  const clonedInit = {\n    ...init ?? {},\n    headers\n  };\n  return fetch(input, clonedInit);\n};\nvar useAuthenticatedFetch = (fetch = window.fetch) => {\n  const { appBridge } = (0,_chunk_XWDAZOZC_mjs__WEBPACK_IMPORTED_MODULE_0__.useAppBridge)();\n  if (!appBridge) {\n    throw new Error(\"useAuthenticatedFetch can be used only in browser context\");\n  }\n  return (0,react__WEBPACK_IMPORTED_MODULE_4__.useMemo)(() => createAuthenticatedFetch(appBridge, fetch), [appBridge, fetch]);\n};\n\n// src/app-bridge/use-dashboard-token.ts\n\n\n\nvar debug = debug__WEBPACK_IMPORTED_MODULE_5__.debug(\"app-sdk:AppBridge:useDashboardToken\");\nvar useDashboardToken = () => {\n  const { appBridgeState } = (0,_chunk_XWDAZOZC_mjs__WEBPACK_IMPORTED_MODULE_0__.useAppBridge)();\n  const tokenClaims = (0,react__WEBPACK_IMPORTED_MODULE_4__.useMemo)(() => {\n    try {\n      if (appBridgeState?.token) {\n        debug(\"Trying to decode JWT token from dashboard\");\n        return jose__WEBPACK_IMPORTED_MODULE_6__.decodeJwt(appBridgeState?.token);\n      }\n    } catch (e) {\n      debug(\"Failed decoding JWT token\");\n      console.error(e);\n    }\n    return null;\n  }, [appBridgeState?.token]);\n  return {\n    /**\n     * TODO: Add tokenClaims.iss validation, when added to Saleor\n     * @see: https://github.com/saleor/saleor/pull/10852\n     */\n    isTokenValid: !!tokenClaims,\n    tokenClaims,\n    hasAppToken: Boolean(appBridgeState?.token)\n  };\n};\n\n// src/app-bridge/with-authorization.tsx\n\nfunction SimpleError({ children }) {\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_4__.createElement(\"div\", { style: { padding: 32, color: \"red\" } }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_4__.createElement(\"p\", null, children));\n}\nvar defaultProps = {\n  dashboardTokenInvalid: /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_4__.createElement(SimpleError, null, \"Dashboard token is invalid\"),\n  noDashboardToken: /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_4__.createElement(SimpleError, null, 'Dashboard token doesn\"t exist'),\n  notIframe: /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_4__.createElement(SimpleError, null, \"The view can only be displayed inside iframe.\"),\n  unmounted: /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_4__.createElement(\"p\", null, \"Loading\")\n};\nvar withAuthorization = (props = defaultProps) => (BaseComponent) => {\n  const { dashboardTokenInvalid, noDashboardToken, notIframe, unmounted } = {\n    ...defaultProps,\n    ...props\n  };\n  function AuthorizedPage(innerProps) {\n    const mounted = (0,_chunk_2O5AMG7B_mjs__WEBPACK_IMPORTED_MODULE_3__.useIsMounted)();\n    const { isTokenValid, hasAppToken } = useDashboardToken();\n    if (!mounted) {\n      return unmounted;\n    }\n    if (!(0,_chunk_2O5AMG7B_mjs__WEBPACK_IMPORTED_MODULE_3__.isInIframe)()) {\n      return notIframe;\n    }\n    if (!hasAppToken) {\n      return noDashboardToken;\n    }\n    if (!isTokenValid) {\n      return dashboardTokenInvalid;\n    }\n    return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_4__.createElement(BaseComponent, { ...innerProps });\n  }\n  return AuthorizedPage;\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1ub2RlKS8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQHNhbGVvcithcHAtc2RrQDEuMy4wX2dyYXBocWxAMTYuMTEuMF9uZXh0QDE1LjIuNl9Ab3BlbnRlbGVtZXRyeSthcGlAMS45LjBfQHBsYXl3cmlnaHQrXzg0OTZkODc2NDUzMzNhMjM4MmQ3N2U4ZWNiOWQ4ODc1L25vZGVfbW9kdWxlcy9Ac2FsZW9yL2FwcC1zZGsvYXBwLWJyaWRnZS9pbmRleC5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFVK0I7QUFDQTtBQUlBO0FBSUE7O0FBRS9CO0FBQ2dDO0FBQ2hDO0FBQ0EsVUFBVSxzQkFBc0I7QUFDaEM7QUFDQSxjQUFjLG1GQUFrQztBQUNoRCxjQUFjLHNFQUFxQjtBQUNuQztBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVSxZQUFZLEVBQUUsaUVBQVk7QUFDcEM7QUFDQTtBQUNBO0FBQ0EsU0FBUyw4Q0FBTztBQUNoQjs7QUFFQTtBQUM2QjtBQUNBO0FBQ2U7QUFDNUMsWUFBWSx3Q0FBYztBQUMxQjtBQUNBLFVBQVUsaUJBQWlCLEVBQUUsaUVBQVk7QUFDekMsc0JBQXNCLDhDQUFRO0FBQzlCO0FBQ0E7QUFDQTtBQUNBLGVBQWUsMkNBQWM7QUFDN0I7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDK0I7QUFDL0IsdUJBQXVCLFVBQVU7QUFDakMseUJBQXlCLGdEQUFtQixVQUFVLFNBQVMsNkJBQTZCLGtCQUFrQixnREFBbUI7QUFDakk7QUFDQTtBQUNBLHlDQUF5QyxnREFBbUI7QUFDNUQsb0NBQW9DLGdEQUFtQjtBQUN2RCw2QkFBNkIsZ0RBQW1CO0FBQ2hELDZCQUE2QixnREFBbUI7QUFDaEQ7QUFDQTtBQUNBLFVBQVUsZ0VBQWdFO0FBQzFFO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLGlFQUFZO0FBQ2hDLFlBQVksNEJBQTRCO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBLFNBQVMsK0RBQVU7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQixnREFBbUIsa0JBQWtCLGVBQWU7QUFDL0U7QUFDQTtBQUNBO0FBZUUiLCJzb3VyY2VzIjpbIi9ob21lL21pY2hhZWwvc2FsZW9yLXBsYXRmb3JtL3NhbGVvci1hcHBzL25vZGVfbW9kdWxlcy8ucG5wbS9Ac2FsZW9yK2FwcC1zZGtAMS4zLjBfZ3JhcGhxbEAxNi4xMS4wX25leHRAMTUuMi42X0BvcGVudGVsZW1ldHJ5K2FwaUAxLjkuMF9AcGxheXdyaWdodCtfODQ5NmQ4NzY0NTMzM2EyMzgyZDc3ZThlY2I5ZDg4NzUvbm9kZV9tb2R1bGVzL0BzYWxlb3IvYXBwLXNkay9hcHAtYnJpZGdlL2luZGV4Lm1qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBBY3Rpb25UeXBlLFxuICBBcHBCcmlkZ2UsXG4gIEFwcEJyaWRnZVByb3ZpZGVyLFxuICBBcHBDb250ZXh0LFxuICBBcHBJZnJhbWVQYXJhbXMsXG4gIERhc2hib2FyZEV2ZW50RmFjdG9yeSxcbiAgRXZlbnRUeXBlLFxuICBhY3Rpb25zLFxuICB1c2VBcHBCcmlkZ2Vcbn0gZnJvbSBcIi4uL2NodW5rLVhXREFaT1pDLm1qc1wiO1xuaW1wb3J0IFwiLi4vY2h1bmstTkhHVU5PWVQubWpzXCI7XG5pbXBvcnQge1xuICBTQUxFT1JfQVBJX1VSTF9IRUFERVIsXG4gIFNBTEVPUl9BVVRIT1JJWkFUSU9OX0JFQVJFUl9IRUFERVJcbn0gZnJvbSBcIi4uL2NodW5rLUZUQVFSUEZaLm1qc1wiO1xuaW1wb3J0IHtcbiAgaXNJbklmcmFtZSxcbiAgdXNlSXNNb3VudGVkXG59IGZyb20gXCIuLi9jaHVuay0yTzVBTUc3Qi5tanNcIjtcblxuLy8gc3JjL2FwcC1icmlkZ2UvZmV0Y2gudHNcbmltcG9ydCB7IHVzZU1lbW8gfSBmcm9tIFwicmVhY3RcIjtcbnZhciBjcmVhdGVBdXRoZW50aWNhdGVkRmV0Y2ggPSAoYXBwQnJpZGdlLCBmZXRjaCA9IGdsb2JhbC5mZXRjaCkgPT4gKGlucHV0LCBpbml0KSA9PiB7XG4gIGNvbnN0IHsgdG9rZW4sIHNhbGVvckFwaVVybCB9ID0gYXBwQnJpZGdlLmdldFN0YXRlKCk7XG4gIGNvbnN0IGhlYWRlcnMgPSBuZXcgSGVhZGVycyhpbml0Py5oZWFkZXJzKTtcbiAgaGVhZGVycy5zZXQoU0FMRU9SX0FVVEhPUklaQVRJT05fQkVBUkVSX0hFQURFUiwgdG9rZW4gPz8gXCJcIik7XG4gIGhlYWRlcnMuc2V0KFNBTEVPUl9BUElfVVJMX0hFQURFUiwgc2FsZW9yQXBpVXJsID8/IFwiXCIpO1xuICBjb25zdCBjbG9uZWRJbml0ID0ge1xuICAgIC4uLmluaXQgPz8ge30sXG4gICAgaGVhZGVyc1xuICB9O1xuICByZXR1cm4gZmV0Y2goaW5wdXQsIGNsb25lZEluaXQpO1xufTtcbnZhciB1c2VBdXRoZW50aWNhdGVkRmV0Y2ggPSAoZmV0Y2ggPSB3aW5kb3cuZmV0Y2gpID0+IHtcbiAgY29uc3QgeyBhcHBCcmlkZ2UgfSA9IHVzZUFwcEJyaWRnZSgpO1xuICBpZiAoIWFwcEJyaWRnZSkge1xuICAgIHRocm93IG5ldyBFcnJvcihcInVzZUF1dGhlbnRpY2F0ZWRGZXRjaCBjYW4gYmUgdXNlZCBvbmx5IGluIGJyb3dzZXIgY29udGV4dFwiKTtcbiAgfVxuICByZXR1cm4gdXNlTWVtbygoKSA9PiBjcmVhdGVBdXRoZW50aWNhdGVkRmV0Y2goYXBwQnJpZGdlLCBmZXRjaCksIFthcHBCcmlkZ2UsIGZldGNoXSk7XG59O1xuXG4vLyBzcmMvYXBwLWJyaWRnZS91c2UtZGFzaGJvYXJkLXRva2VuLnRzXG5pbXBvcnQgZGVidWdQa2cgZnJvbSBcImRlYnVnXCI7XG5pbXBvcnQgKiBhcyBqb3NlIGZyb20gXCJqb3NlXCI7XG5pbXBvcnQgeyB1c2VNZW1vIGFzIHVzZU1lbW8yIH0gZnJvbSBcInJlYWN0XCI7XG52YXIgZGVidWcgPSBkZWJ1Z1BrZy5kZWJ1ZyhcImFwcC1zZGs6QXBwQnJpZGdlOnVzZURhc2hib2FyZFRva2VuXCIpO1xudmFyIHVzZURhc2hib2FyZFRva2VuID0gKCkgPT4ge1xuICBjb25zdCB7IGFwcEJyaWRnZVN0YXRlIH0gPSB1c2VBcHBCcmlkZ2UoKTtcbiAgY29uc3QgdG9rZW5DbGFpbXMgPSB1c2VNZW1vMigoKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGlmIChhcHBCcmlkZ2VTdGF0ZT8udG9rZW4pIHtcbiAgICAgICAgZGVidWcoXCJUcnlpbmcgdG8gZGVjb2RlIEpXVCB0b2tlbiBmcm9tIGRhc2hib2FyZFwiKTtcbiAgICAgICAgcmV0dXJuIGpvc2UuZGVjb2RlSnd0KGFwcEJyaWRnZVN0YXRlPy50b2tlbik7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgZGVidWcoXCJGYWlsZWQgZGVjb2RpbmcgSldUIHRva2VuXCIpO1xuICAgICAgY29uc29sZS5lcnJvcihlKTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH0sIFthcHBCcmlkZ2VTdGF0ZT8udG9rZW5dKTtcbiAgcmV0dXJuIHtcbiAgICAvKipcbiAgICAgKiBUT0RPOiBBZGQgdG9rZW5DbGFpbXMuaXNzIHZhbGlkYXRpb24sIHdoZW4gYWRkZWQgdG8gU2FsZW9yXG4gICAgICogQHNlZTogaHR0cHM6Ly9naXRodWIuY29tL3NhbGVvci9zYWxlb3IvcHVsbC8xMDg1MlxuICAgICAqL1xuICAgIGlzVG9rZW5WYWxpZDogISF0b2tlbkNsYWltcyxcbiAgICB0b2tlbkNsYWltcyxcbiAgICBoYXNBcHBUb2tlbjogQm9vbGVhbihhcHBCcmlkZ2VTdGF0ZT8udG9rZW4pXG4gIH07XG59O1xuXG4vLyBzcmMvYXBwLWJyaWRnZS93aXRoLWF1dGhvcml6YXRpb24udHN4XG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbmZ1bmN0aW9uIFNpbXBsZUVycm9yKHsgY2hpbGRyZW4gfSkge1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBzdHlsZTogeyBwYWRkaW5nOiAzMiwgY29sb3I6IFwicmVkXCIgfSB9LCAvKiBAX19QVVJFX18gKi8gUmVhY3QuY3JlYXRlRWxlbWVudChcInBcIiwgbnVsbCwgY2hpbGRyZW4pKTtcbn1cbnZhciBkZWZhdWx0UHJvcHMgPSB7XG4gIGRhc2hib2FyZFRva2VuSW52YWxpZDogLyogQF9fUFVSRV9fICovIFJlYWN0LmNyZWF0ZUVsZW1lbnQoU2ltcGxlRXJyb3IsIG51bGwsIFwiRGFzaGJvYXJkIHRva2VuIGlzIGludmFsaWRcIiksXG4gIG5vRGFzaGJvYXJkVG9rZW46IC8qIEBfX1BVUkVfXyAqLyBSZWFjdC5jcmVhdGVFbGVtZW50KFNpbXBsZUVycm9yLCBudWxsLCAnRGFzaGJvYXJkIHRva2VuIGRvZXNuXCJ0IGV4aXN0JyksXG4gIG5vdElmcmFtZTogLyogQF9fUFVSRV9fICovIFJlYWN0LmNyZWF0ZUVsZW1lbnQoU2ltcGxlRXJyb3IsIG51bGwsIFwiVGhlIHZpZXcgY2FuIG9ubHkgYmUgZGlzcGxheWVkIGluc2lkZSBpZnJhbWUuXCIpLFxuICB1bm1vdW50ZWQ6IC8qIEBfX1BVUkVfXyAqLyBSZWFjdC5jcmVhdGVFbGVtZW50KFwicFwiLCBudWxsLCBcIkxvYWRpbmdcIilcbn07XG52YXIgd2l0aEF1dGhvcml6YXRpb24gPSAocHJvcHMgPSBkZWZhdWx0UHJvcHMpID0+IChCYXNlQ29tcG9uZW50KSA9PiB7XG4gIGNvbnN0IHsgZGFzaGJvYXJkVG9rZW5JbnZhbGlkLCBub0Rhc2hib2FyZFRva2VuLCBub3RJZnJhbWUsIHVubW91bnRlZCB9ID0ge1xuICAgIC4uLmRlZmF1bHRQcm9wcyxcbiAgICAuLi5wcm9wc1xuICB9O1xuICBmdW5jdGlvbiBBdXRob3JpemVkUGFnZShpbm5lclByb3BzKSB7XG4gICAgY29uc3QgbW91bnRlZCA9IHVzZUlzTW91bnRlZCgpO1xuICAgIGNvbnN0IHsgaXNUb2tlblZhbGlkLCBoYXNBcHBUb2tlbiB9ID0gdXNlRGFzaGJvYXJkVG9rZW4oKTtcbiAgICBpZiAoIW1vdW50ZWQpIHtcbiAgICAgIHJldHVybiB1bm1vdW50ZWQ7XG4gICAgfVxuICAgIGlmICghaXNJbklmcmFtZSgpKSB7XG4gICAgICByZXR1cm4gbm90SWZyYW1lO1xuICAgIH1cbiAgICBpZiAoIWhhc0FwcFRva2VuKSB7XG4gICAgICByZXR1cm4gbm9EYXNoYm9hcmRUb2tlbjtcbiAgICB9XG4gICAgaWYgKCFpc1Rva2VuVmFsaWQpIHtcbiAgICAgIHJldHVybiBkYXNoYm9hcmRUb2tlbkludmFsaWQ7XG4gICAgfVxuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3QuY3JlYXRlRWxlbWVudChCYXNlQ29tcG9uZW50LCB7IC4uLmlubmVyUHJvcHMgfSk7XG4gIH1cbiAgcmV0dXJuIEF1dGhvcml6ZWRQYWdlO1xufTtcbmV4cG9ydCB7XG4gIEFjdGlvblR5cGUsXG4gIEFwcEJyaWRnZSxcbiAgQXBwQnJpZGdlUHJvdmlkZXIsXG4gIEFwcENvbnRleHQsXG4gIEFwcElmcmFtZVBhcmFtcyxcbiAgRGFzaGJvYXJkRXZlbnRGYWN0b3J5LFxuICBFdmVudFR5cGUsXG4gIGFjdGlvbnMsXG4gIGNyZWF0ZUF1dGhlbnRpY2F0ZWRGZXRjaCxcbiAgdXNlQXBwQnJpZGdlLFxuICB1c2VBdXRoZW50aWNhdGVkRmV0Y2gsXG4gIHVzZURhc2hib2FyZFRva2VuLFxuICB3aXRoQXV0aG9yaXphdGlvblxufTtcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(pages-dir-node)/../../node_modules/.pnpm/@saleor+app-sdk@1.3.0_graphql@16.11.0_next@15.2.6_@opentelemetry+api@1.9.0_@playwright+_8496d87645333a2382d77e8ecb9d8875/node_modules/@saleor/app-sdk/app-bridge/index.mjs\n");

/***/ }),

/***/ "(pages-dir-node)/../../node_modules/.pnpm/@saleor+app-sdk@1.3.0_graphql@16.11.0_next@15.2.6_@opentelemetry+api@1.9.0_@playwright+_8496d87645333a2382d77e8ecb9d8875/node_modules/@saleor/app-sdk/app-bridge/next/index.mjs":
/*!****************************************************************************************************************************************************************************************************************!*\
  !*** ../../node_modules/.pnpm/@saleor+app-sdk@1.3.0_graphql@16.11.0_next@15.2.6_@opentelemetry+api@1.9.0_@playwright+_8496d87645333a2382d77e8ecb9d8875/node_modules/@saleor/app-sdk/app-bridge/next/index.mjs ***!
  \****************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("var next_router_js__WEBPACK_IMPORTED_MODULE_2___namespace_cache;\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   RoutePropagator: () => (/* binding */ RoutePropagator),\n/* harmony export */   useRoutePropagator: () => (/* binding */ useRoutePropagator)\n/* harmony export */ });\n/* harmony import */ var _chunk_XWDAZOZC_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../chunk-XWDAZOZC.mjs */ \"(pages-dir-node)/../../node_modules/.pnpm/@saleor+app-sdk@1.3.0_graphql@16.11.0_next@15.2.6_@opentelemetry+api@1.9.0_@playwright+_8496d87645333a2382d77e8ecb9d8875/node_modules/@saleor/app-sdk/chunk-XWDAZOZC.mjs\");\n/* harmony import */ var _chunk_NHGUNOYT_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../chunk-NHGUNOYT.mjs */ \"(pages-dir-node)/../../node_modules/.pnpm/@saleor+app-sdk@1.3.0_graphql@16.11.0_next@15.2.6_@opentelemetry+api@1.9.0_@playwright+_8496d87645333a2382d77e8ecb9d8875/node_modules/@saleor/app-sdk/chunk-NHGUNOYT.mjs\");\n/* harmony import */ var next_router_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/router.js */ \"(pages-dir-node)/../../node_modules/.pnpm/next@15.2.6_@babel+core@7.26.10_@opentelemetry+api@1.9.0_@playwright+test@1.52.0_react-_f582bd5de6e8c5c619384e99b96ecbf1/node_modules/next/router.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react */ \"react\");\n\n\n\n// src/app-bridge/next/route-propagator.tsx\n\n\nvar { useRouter } = /*#__PURE__*/ (next_router_js__WEBPACK_IMPORTED_MODULE_2___namespace_cache || (next_router_js__WEBPACK_IMPORTED_MODULE_2___namespace_cache = __webpack_require__.t(next_router_js__WEBPACK_IMPORTED_MODULE_2__, 2)));\nvar useRoutePropagator = () => {\n  const { appBridge, appBridgeState } = (0,_chunk_XWDAZOZC_mjs__WEBPACK_IMPORTED_MODULE_0__.useAppBridge)();\n  const router = useRouter();\n  (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n    const appBridgeStateIsReady = appBridgeState?.ready ?? false;\n    if (!appBridgeStateIsReady || !appBridge) {\n      return;\n    }\n    router.events.on(\"routeChangeComplete\", (url) => {\n      appBridge?.dispatch(\n        _chunk_XWDAZOZC_mjs__WEBPACK_IMPORTED_MODULE_0__.actions.UpdateRouting({\n          newRoute: url\n        })\n      ).catch(() => {\n        console.error(\"Error dispatching action\");\n      });\n    });\n  }, [appBridgeState, appBridge]);\n};\nfunction RoutePropagator() {\n  useRoutePropagator();\n  return null;\n}\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1ub2RlKS8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQHNhbGVvcithcHAtc2RrQDEuMy4wX2dyYXBocWxAMTYuMTEuMF9uZXh0QDE1LjIuNl9Ab3BlbnRlbGVtZXRyeSthcGlAMS45LjBfQHBsYXl3cmlnaHQrXzg0OTZkODc2NDUzMzNhMjM4MmQ3N2U4ZWNiOWQ4ODc1L25vZGVfbW9kdWxlcy9Ac2FsZW9yL2FwcC1zZGsvYXBwLWJyaWRnZS9uZXh0L2luZGV4Lm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBR2tDO0FBQ0E7O0FBRWxDO0FBQzZDO0FBQ1g7QUFDbEMsTUFBTSxZQUFZLEVBQUUsb05BQVU7QUFDOUI7QUFDQSxVQUFVLDRCQUE0QixFQUFFLGlFQUFZO0FBQ3BEO0FBQ0EsRUFBRSxnREFBUztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsd0RBQU87QUFDZjtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlFIiwic291cmNlcyI6WyIvaG9tZS9taWNoYWVsL3NhbGVvci1wbGF0Zm9ybS9zYWxlb3ItYXBwcy9ub2RlX21vZHVsZXMvLnBucG0vQHNhbGVvcithcHAtc2RrQDEuMy4wX2dyYXBocWxAMTYuMTEuMF9uZXh0QDE1LjIuNl9Ab3BlbnRlbGVtZXRyeSthcGlAMS45LjBfQHBsYXl3cmlnaHQrXzg0OTZkODc2NDUzMzNhMjM4MmQ3N2U4ZWNiOWQ4ODc1L25vZGVfbW9kdWxlcy9Ac2FsZW9yL2FwcC1zZGsvYXBwLWJyaWRnZS9uZXh0L2luZGV4Lm1qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBhY3Rpb25zLFxuICB1c2VBcHBCcmlkZ2Vcbn0gZnJvbSBcIi4uLy4uL2NodW5rLVhXREFaT1pDLm1qc1wiO1xuaW1wb3J0IFwiLi4vLi4vY2h1bmstTkhHVU5PWVQubWpzXCI7XG5cbi8vIHNyYy9hcHAtYnJpZGdlL25leHQvcm91dGUtcHJvcGFnYXRvci50c3hcbmltcG9ydCAqIGFzIE5leHRSb3V0ZXIgZnJvbSBcIm5leHQvcm91dGVyLmpzXCI7XG5pbXBvcnQgeyB1c2VFZmZlY3QgfSBmcm9tIFwicmVhY3RcIjtcbnZhciB7IHVzZVJvdXRlciB9ID0gTmV4dFJvdXRlcjtcbnZhciB1c2VSb3V0ZVByb3BhZ2F0b3IgPSAoKSA9PiB7XG4gIGNvbnN0IHsgYXBwQnJpZGdlLCBhcHBCcmlkZ2VTdGF0ZSB9ID0gdXNlQXBwQnJpZGdlKCk7XG4gIGNvbnN0IHJvdXRlciA9IHVzZVJvdXRlcigpO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGFwcEJyaWRnZVN0YXRlSXNSZWFkeSA9IGFwcEJyaWRnZVN0YXRlPy5yZWFkeSA/PyBmYWxzZTtcbiAgICBpZiAoIWFwcEJyaWRnZVN0YXRlSXNSZWFkeSB8fCAhYXBwQnJpZGdlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHJvdXRlci5ldmVudHMub24oXCJyb3V0ZUNoYW5nZUNvbXBsZXRlXCIsICh1cmwpID0+IHtcbiAgICAgIGFwcEJyaWRnZT8uZGlzcGF0Y2goXG4gICAgICAgIGFjdGlvbnMuVXBkYXRlUm91dGluZyh7XG4gICAgICAgICAgbmV3Um91dGU6IHVybFxuICAgICAgICB9KVxuICAgICAgKS5jYXRjaCgoKSA9PiB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBkaXNwYXRjaGluZyBhY3Rpb25cIik7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSwgW2FwcEJyaWRnZVN0YXRlLCBhcHBCcmlkZ2VdKTtcbn07XG5mdW5jdGlvbiBSb3V0ZVByb3BhZ2F0b3IoKSB7XG4gIHVzZVJvdXRlUHJvcGFnYXRvcigpO1xuICByZXR1cm4gbnVsbDtcbn1cbmV4cG9ydCB7XG4gIFJvdXRlUHJvcGFnYXRvcixcbiAgdXNlUm91dGVQcm9wYWdhdG9yXG59O1xuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(pages-dir-node)/../../node_modules/.pnpm/@saleor+app-sdk@1.3.0_graphql@16.11.0_next@15.2.6_@opentelemetry+api@1.9.0_@playwright+_8496d87645333a2382d77e8ecb9d8875/node_modules/@saleor/app-sdk/app-bridge/next/index.mjs\n");

/***/ }),

/***/ "(pages-dir-node)/../../node_modules/.pnpm/@saleor+app-sdk@1.3.0_graphql@16.11.0_next@15.2.6_@opentelemetry+api@1.9.0_@playwright+_8496d87645333a2382d77e8ecb9d8875/node_modules/@saleor/app-sdk/chunk-2O5AMG7B.mjs":
/*!*********************************************************************************************************************************************************************************************************!*\
  !*** ../../node_modules/.pnpm/@saleor+app-sdk@1.3.0_graphql@16.11.0_next@15.2.6_@opentelemetry+api@1.9.0_@playwright+_8496d87645333a2382d77e8ecb9d8875/node_modules/@saleor/app-sdk/chunk-2O5AMG7B.mjs ***!
  \*********************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   isInIframe: () => (/* binding */ isInIframe),\n/* harmony export */   useIsMounted: () => (/* binding */ useIsMounted)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n// src/util/is-in-iframe.ts\nvar isInIframe = () => {\n  if (!document || !window) {\n    throw new Error(\"isInIframe should be called only in browser\");\n  }\n  try {\n    return document.location !== window.parent.location;\n  } catch (e) {\n    return false;\n  }\n};\n\n// src/util/use-is-mounted.ts\n\nvar useIsMounted = () => {\n  const [mounted, setMounted] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => setMounted(true), []);\n  return mounted;\n};\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1ub2RlKS8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQHNhbGVvcithcHAtc2RrQDEuMy4wX2dyYXBocWxAMTYuMTEuMF9uZXh0QDE1LjIuNl9Ab3BlbnRlbGVtZXRyeSthcGlAMS45LjBfQHBsYXl3cmlnaHQrXzg0OTZkODc2NDUzMzNhMjM4MmQ3N2U4ZWNiOWQ4ODc1L25vZGVfbW9kdWxlcy9Ac2FsZW9yL2FwcC1zZGsvY2h1bmstMk81QU1HN0IubWpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTs7QUFFQTtBQUM0QztBQUM1QztBQUNBLGdDQUFnQywrQ0FBUTtBQUN4QyxFQUFFLGdEQUFTO0FBQ1g7QUFDQTs7QUFLRSIsInNvdXJjZXMiOlsiL2hvbWUvbWljaGFlbC9zYWxlb3ItcGxhdGZvcm0vc2FsZW9yLWFwcHMvbm9kZV9tb2R1bGVzLy5wbnBtL0BzYWxlb3IrYXBwLXNka0AxLjMuMF9ncmFwaHFsQDE2LjExLjBfbmV4dEAxNS4yLjZfQG9wZW50ZWxlbWV0cnkrYXBpQDEuOS4wX0BwbGF5d3JpZ2h0K184NDk2ZDg3NjQ1MzMzYTIzODJkNzdlOGVjYjlkODg3NS9ub2RlX21vZHVsZXMvQHNhbGVvci9hcHAtc2RrL2NodW5rLTJPNUFNRzdCLm1qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBzcmMvdXRpbC9pcy1pbi1pZnJhbWUudHNcbnZhciBpc0luSWZyYW1lID0gKCkgPT4ge1xuICBpZiAoIWRvY3VtZW50IHx8ICF3aW5kb3cpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJpc0luSWZyYW1lIHNob3VsZCBiZSBjYWxsZWQgb25seSBpbiBicm93c2VyXCIpO1xuICB9XG4gIHRyeSB7XG4gICAgcmV0dXJuIGRvY3VtZW50LmxvY2F0aW9uICE9PSB3aW5kb3cucGFyZW50LmxvY2F0aW9uO1xuICB9IGNhdGNoIChlKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59O1xuXG4vLyBzcmMvdXRpbC91c2UtaXMtbW91bnRlZC50c1xuaW1wb3J0IHsgdXNlRWZmZWN0LCB1c2VTdGF0ZSB9IGZyb20gXCJyZWFjdFwiO1xudmFyIHVzZUlzTW91bnRlZCA9ICgpID0+IHtcbiAgY29uc3QgW21vdW50ZWQsIHNldE1vdW50ZWRdID0gdXNlU3RhdGUoZmFsc2UpO1xuICB1c2VFZmZlY3QoKCkgPT4gc2V0TW91bnRlZCh0cnVlKSwgW10pO1xuICByZXR1cm4gbW91bnRlZDtcbn07XG5cbmV4cG9ydCB7XG4gIGlzSW5JZnJhbWUsXG4gIHVzZUlzTW91bnRlZFxufTtcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(pages-dir-node)/../../node_modules/.pnpm/@saleor+app-sdk@1.3.0_graphql@16.11.0_next@15.2.6_@opentelemetry+api@1.9.0_@playwright+_8496d87645333a2382d77e8ecb9d8875/node_modules/@saleor/app-sdk/chunk-2O5AMG7B.mjs\n");

/***/ }),

/***/ "(pages-dir-node)/../../node_modules/.pnpm/@saleor+app-sdk@1.3.0_graphql@16.11.0_next@15.2.6_@opentelemetry+api@1.9.0_@playwright+_8496d87645333a2382d77e8ecb9d8875/node_modules/@saleor/app-sdk/chunk-FTAQRPFZ.mjs":
/*!*********************************************************************************************************************************************************************************************************!*\
  !*** ../../node_modules/.pnpm/@saleor+app-sdk@1.3.0_graphql@16.11.0_next@15.2.6_@opentelemetry+api@1.9.0_@playwright+_8496d87645333a2382d77e8ecb9d8875/node_modules/@saleor/app-sdk/chunk-FTAQRPFZ.mjs ***!
  \*********************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SALEOR_API_URL_HEADER: () => (/* binding */ SALEOR_API_URL_HEADER),\n/* harmony export */   SALEOR_AUTHORIZATION_BEARER_HEADER: () => (/* binding */ SALEOR_AUTHORIZATION_BEARER_HEADER),\n/* harmony export */   SALEOR_EVENT_HEADER: () => (/* binding */ SALEOR_EVENT_HEADER),\n/* harmony export */   SALEOR_SCHEMA_VERSION_HEADER: () => (/* binding */ SALEOR_SCHEMA_VERSION_HEADER),\n/* harmony export */   SALEOR_SIGNATURE_HEADER: () => (/* binding */ SALEOR_SIGNATURE_HEADER),\n/* harmony export */   getBaseUrl: () => (/* binding */ getBaseUrl),\n/* harmony export */   getSaleorHeaders: () => (/* binding */ getSaleorHeaders)\n/* harmony export */ });\n// src/headers.ts\nvar SALEOR_EVENT_HEADER = \"saleor-event\";\nvar SALEOR_SIGNATURE_HEADER = \"saleor-signature\";\nvar SALEOR_AUTHORIZATION_BEARER_HEADER = \"authorization-bearer\";\nvar SALEOR_API_URL_HEADER = \"saleor-api-url\";\nvar SALEOR_SCHEMA_VERSION_HEADER = \"saleor-schema-version\";\nvar toStringOrUndefined = (value) => value ? value.toString() : void 0;\nvar getSaleorHeaders = (headers) => ({\n  authorizationBearer: toStringOrUndefined(headers[SALEOR_AUTHORIZATION_BEARER_HEADER]),\n  signature: toStringOrUndefined(headers[SALEOR_SIGNATURE_HEADER]),\n  event: toStringOrUndefined(headers[SALEOR_EVENT_HEADER]),\n  saleorApiUrl: toStringOrUndefined(headers[SALEOR_API_URL_HEADER]),\n  schemaVersion: toStringOrUndefined(headers[SALEOR_SCHEMA_VERSION_HEADER])\n});\nvar getBaseUrl = (headers) => {\n  const { host, \"x-forwarded-proto\": xForwardedProto = \"http\" } = headers;\n  const xForwardedProtos = Array.isArray(xForwardedProto) ? xForwardedProto.join(\",\") : xForwardedProto;\n  const protocols = xForwardedProtos.split(\",\");\n  const protocol = protocols.find((el) => el === \"https\") || protocols[0];\n  return `${protocol}://${host}`;\n};\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1ub2RlKS8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQHNhbGVvcithcHAtc2RrQDEuMy4wX2dyYXBocWxAMTYuMTEuMF9uZXh0QDE1LjIuNl9Ab3BlbnRlbGVtZXRyeSthcGlAMS45LjBfQHBsYXl3cmlnaHQrXzg0OTZkODc2NDUzMzNhMjM4MmQ3N2U4ZWNiOWQ4ODc1L25vZGVfbW9kdWxlcy9Ac2FsZW9yL2FwcC1zZGsvY2h1bmstRlRBUVJQRloubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBLFVBQVUsc0RBQXNEO0FBQ2hFO0FBQ0E7QUFDQTtBQUNBLFlBQVksU0FBUyxLQUFLLEtBQUs7QUFDL0I7O0FBVUUiLCJzb3VyY2VzIjpbIi9ob21lL21pY2hhZWwvc2FsZW9yLXBsYXRmb3JtL3NhbGVvci1hcHBzL25vZGVfbW9kdWxlcy8ucG5wbS9Ac2FsZW9yK2FwcC1zZGtAMS4zLjBfZ3JhcGhxbEAxNi4xMS4wX25leHRAMTUuMi42X0BvcGVudGVsZW1ldHJ5K2FwaUAxLjkuMF9AcGxheXdyaWdodCtfODQ5NmQ4NzY0NTMzM2EyMzgyZDc3ZThlY2I5ZDg4NzUvbm9kZV9tb2R1bGVzL0BzYWxlb3IvYXBwLXNkay9jaHVuay1GVEFRUlBGWi5tanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gc3JjL2hlYWRlcnMudHNcbnZhciBTQUxFT1JfRVZFTlRfSEVBREVSID0gXCJzYWxlb3ItZXZlbnRcIjtcbnZhciBTQUxFT1JfU0lHTkFUVVJFX0hFQURFUiA9IFwic2FsZW9yLXNpZ25hdHVyZVwiO1xudmFyIFNBTEVPUl9BVVRIT1JJWkFUSU9OX0JFQVJFUl9IRUFERVIgPSBcImF1dGhvcml6YXRpb24tYmVhcmVyXCI7XG52YXIgU0FMRU9SX0FQSV9VUkxfSEVBREVSID0gXCJzYWxlb3ItYXBpLXVybFwiO1xudmFyIFNBTEVPUl9TQ0hFTUFfVkVSU0lPTl9IRUFERVIgPSBcInNhbGVvci1zY2hlbWEtdmVyc2lvblwiO1xudmFyIHRvU3RyaW5nT3JVbmRlZmluZWQgPSAodmFsdWUpID0+IHZhbHVlID8gdmFsdWUudG9TdHJpbmcoKSA6IHZvaWQgMDtcbnZhciBnZXRTYWxlb3JIZWFkZXJzID0gKGhlYWRlcnMpID0+ICh7XG4gIGF1dGhvcml6YXRpb25CZWFyZXI6IHRvU3RyaW5nT3JVbmRlZmluZWQoaGVhZGVyc1tTQUxFT1JfQVVUSE9SSVpBVElPTl9CRUFSRVJfSEVBREVSXSksXG4gIHNpZ25hdHVyZTogdG9TdHJpbmdPclVuZGVmaW5lZChoZWFkZXJzW1NBTEVPUl9TSUdOQVRVUkVfSEVBREVSXSksXG4gIGV2ZW50OiB0b1N0cmluZ09yVW5kZWZpbmVkKGhlYWRlcnNbU0FMRU9SX0VWRU5UX0hFQURFUl0pLFxuICBzYWxlb3JBcGlVcmw6IHRvU3RyaW5nT3JVbmRlZmluZWQoaGVhZGVyc1tTQUxFT1JfQVBJX1VSTF9IRUFERVJdKSxcbiAgc2NoZW1hVmVyc2lvbjogdG9TdHJpbmdPclVuZGVmaW5lZChoZWFkZXJzW1NBTEVPUl9TQ0hFTUFfVkVSU0lPTl9IRUFERVJdKVxufSk7XG52YXIgZ2V0QmFzZVVybCA9IChoZWFkZXJzKSA9PiB7XG4gIGNvbnN0IHsgaG9zdCwgXCJ4LWZvcndhcmRlZC1wcm90b1wiOiB4Rm9yd2FyZGVkUHJvdG8gPSBcImh0dHBcIiB9ID0gaGVhZGVycztcbiAgY29uc3QgeEZvcndhcmRlZFByb3RvcyA9IEFycmF5LmlzQXJyYXkoeEZvcndhcmRlZFByb3RvKSA/IHhGb3J3YXJkZWRQcm90by5qb2luKFwiLFwiKSA6IHhGb3J3YXJkZWRQcm90bztcbiAgY29uc3QgcHJvdG9jb2xzID0geEZvcndhcmRlZFByb3Rvcy5zcGxpdChcIixcIik7XG4gIGNvbnN0IHByb3RvY29sID0gcHJvdG9jb2xzLmZpbmQoKGVsKSA9PiBlbCA9PT0gXCJodHRwc1wiKSB8fCBwcm90b2NvbHNbMF07XG4gIHJldHVybiBgJHtwcm90b2NvbH06Ly8ke2hvc3R9YDtcbn07XG5cbmV4cG9ydCB7XG4gIFNBTEVPUl9FVkVOVF9IRUFERVIsXG4gIFNBTEVPUl9TSUdOQVRVUkVfSEVBREVSLFxuICBTQUxFT1JfQVVUSE9SSVpBVElPTl9CRUFSRVJfSEVBREVSLFxuICBTQUxFT1JfQVBJX1VSTF9IRUFERVIsXG4gIFNBTEVPUl9TQ0hFTUFfVkVSU0lPTl9IRUFERVIsXG4gIGdldFNhbGVvckhlYWRlcnMsXG4gIGdldEJhc2VVcmxcbn07XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(pages-dir-node)/../../node_modules/.pnpm/@saleor+app-sdk@1.3.0_graphql@16.11.0_next@15.2.6_@opentelemetry+api@1.9.0_@playwright+_8496d87645333a2382d77e8ecb9d8875/node_modules/@saleor/app-sdk/chunk-FTAQRPFZ.mjs\n");

/***/ }),

/***/ "(pages-dir-node)/../../node_modules/.pnpm/@saleor+app-sdk@1.3.0_graphql@16.11.0_next@15.2.6_@opentelemetry+api@1.9.0_@playwright+_8496d87645333a2382d77e8ecb9d8875/node_modules/@saleor/app-sdk/chunk-NHGUNOYT.mjs":
/*!*********************************************************************************************************************************************************************************************************!*\
  !*** ../../node_modules/.pnpm/@saleor+app-sdk@1.3.0_graphql@16.11.0_next@15.2.6_@opentelemetry+api@1.9.0_@playwright+_8496d87645333a2382d77e8ecb9d8875/node_modules/@saleor/app-sdk/chunk-NHGUNOYT.mjs ***!
  \*********************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   extractUserFromJwt: () => (/* binding */ extractUserFromJwt)\n/* harmony export */ });\n/* harmony import */ var jose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jose */ \"(pages-dir-node)/../../node_modules/.pnpm/jose@5.10.0/node_modules/jose/dist/node/esm/util/decode_jwt.js\");\n// src/util/extract-user-from-jwt.ts\n\nvar extractUserFromJwt = (jwtToken) => {\n  const tokenDecoded = jose__WEBPACK_IMPORTED_MODULE_0__.decodeJwt(jwtToken);\n  const { email, user_permissions: userPermissions } = tokenDecoded;\n  return {\n    email,\n    userPermissions\n  };\n};\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1ub2RlKS8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQHNhbGVvcithcHAtc2RrQDEuMy4wX2dyYXBocWxAMTYuMTEuMF9uZXh0QDE1LjIuNl9Ab3BlbnRlbGVtZXRyeSthcGlAMS45LjBfQHBsYXl3cmlnaHQrXzg0OTZkODc2NDUzMzNhMjM4MmQ3N2U4ZWNiOWQ4ODc1L25vZGVfbW9kdWxlcy9Ac2FsZW9yL2FwcC1zZGsvY2h1bmstTkhHVU5PWVQubWpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQUE7QUFDNkI7QUFDN0I7QUFDQSx1QkFBdUIsMkNBQWM7QUFDckMsVUFBVSwyQ0FBMkM7QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFJRSIsInNvdXJjZXMiOlsiL2hvbWUvbWljaGFlbC9zYWxlb3ItcGxhdGZvcm0vc2FsZW9yLWFwcHMvbm9kZV9tb2R1bGVzLy5wbnBtL0BzYWxlb3IrYXBwLXNka0AxLjMuMF9ncmFwaHFsQDE2LjExLjBfbmV4dEAxNS4yLjZfQG9wZW50ZWxlbWV0cnkrYXBpQDEuOS4wX0BwbGF5d3JpZ2h0K184NDk2ZDg3NjQ1MzMzYTIzODJkNzdlOGVjYjlkODg3NS9ub2RlX21vZHVsZXMvQHNhbGVvci9hcHAtc2RrL2NodW5rLU5IR1VOT1lULm1qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBzcmMvdXRpbC9leHRyYWN0LXVzZXItZnJvbS1qd3QudHNcbmltcG9ydCAqIGFzIGpvc2UgZnJvbSBcImpvc2VcIjtcbnZhciBleHRyYWN0VXNlckZyb21Kd3QgPSAoand0VG9rZW4pID0+IHtcbiAgY29uc3QgdG9rZW5EZWNvZGVkID0gam9zZS5kZWNvZGVKd3Qoand0VG9rZW4pO1xuICBjb25zdCB7IGVtYWlsLCB1c2VyX3Blcm1pc3Npb25zOiB1c2VyUGVybWlzc2lvbnMgfSA9IHRva2VuRGVjb2RlZDtcbiAgcmV0dXJuIHtcbiAgICBlbWFpbCxcbiAgICB1c2VyUGVybWlzc2lvbnNcbiAgfTtcbn07XG5cbmV4cG9ydCB7XG4gIGV4dHJhY3RVc2VyRnJvbUp3dFxufTtcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(pages-dir-node)/../../node_modules/.pnpm/@saleor+app-sdk@1.3.0_graphql@16.11.0_next@15.2.6_@opentelemetry+api@1.9.0_@playwright+_8496d87645333a2382d77e8ecb9d8875/node_modules/@saleor/app-sdk/chunk-NHGUNOYT.mjs\n");

/***/ }),

/***/ "(pages-dir-node)/../../node_modules/.pnpm/@saleor+app-sdk@1.3.0_graphql@16.11.0_next@15.2.6_@opentelemetry+api@1.9.0_@playwright+_8496d87645333a2382d77e8ecb9d8875/node_modules/@saleor/app-sdk/chunk-XWDAZOZC.mjs":
/*!*********************************************************************************************************************************************************************************************************!*\
  !*** ../../node_modules/.pnpm/@saleor+app-sdk@1.3.0_graphql@16.11.0_next@15.2.6_@opentelemetry+api@1.9.0_@playwright+_8496d87645333a2382d77e8ecb9d8875/node_modules/@saleor/app-sdk/chunk-XWDAZOZC.mjs ***!
  \*********************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ActionType: () => (/* binding */ ActionType),\n/* harmony export */   AppBridge: () => (/* binding */ AppBridge),\n/* harmony export */   AppBridgeProvider: () => (/* binding */ AppBridgeProvider),\n/* harmony export */   AppContext: () => (/* binding */ AppContext),\n/* harmony export */   AppIframeParams: () => (/* binding */ AppIframeParams),\n/* harmony export */   DashboardEventFactory: () => (/* binding */ DashboardEventFactory),\n/* harmony export */   EventType: () => (/* binding */ EventType),\n/* harmony export */   actions: () => (/* binding */ actions),\n/* harmony export */   useAppBridge: () => (/* binding */ useAppBridge)\n/* harmony export */ });\n/* harmony import */ var _chunk_NHGUNOYT_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chunk-NHGUNOYT.mjs */ \"(pages-dir-node)/../../node_modules/.pnpm/@saleor+app-sdk@1.3.0_graphql@16.11.0_next@15.2.6_@opentelemetry+api@1.9.0_@playwright+_8496d87645333a2382d77e8ecb9d8875/node_modules/@saleor/app-sdk/chunk-NHGUNOYT.mjs\");\n/* harmony import */ var debug__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! debug */ \"(pages-dir-node)/../../node_modules/.pnpm/debug@4.4.0/node_modules/debug/src/index.js\");\n/* harmony import */ var jose__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jose */ \"(pages-dir-node)/../../node_modules/.pnpm/jose@5.10.0/node_modules/jose/dist/node/esm/util/decode_jwt.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react */ \"react\");\n\n\n// src/app-bridge/actions.ts\nvar ActionType = {\n  /**\n   * Ask Dashboard to redirect - either internal or external route\n   */\n  redirect: \"redirect\",\n  /**\n   * Ask Dashboard to send a notification toast\n   */\n  notification: \"notification\",\n  /**\n   * Ask Dashboard to update deep URL to preserve app route after refresh\n   */\n  updateRouting: \"updateRouting\",\n  /**\n   * Inform Dashboard that AppBridge is ready\n   */\n  notifyReady: \"notifyReady\",\n  /**\n   * Request one or more permissions from the Dashboard\n   *\n   * Available from 3.15\n   */\n  requestPermission: \"requestPermissions\"\n};\nfunction withActionId(action) {\n  try {\n    const actionId = globalThis.crypto.randomUUID();\n    return {\n      ...action,\n      payload: {\n        ...action.payload,\n        actionId\n      }\n    };\n  } catch (e) {\n    throw new Error(\"Failed to generate action ID. Please ensure you are using https or localhost\");\n  }\n}\nfunction createRedirectAction(payload) {\n  return withActionId({\n    payload,\n    type: \"redirect\"\n  });\n}\nfunction createNotificationAction(payload) {\n  return withActionId({\n    type: \"notification\",\n    payload\n  });\n}\nfunction createUpdateRoutingAction(payload) {\n  return withActionId({\n    type: \"updateRouting\",\n    payload\n  });\n}\nfunction createNotifyReadyAction() {\n  return withActionId({\n    type: \"notifyReady\",\n    payload: {}\n  });\n}\nfunction createRequestPermissionsAction(permissions, redirectPath) {\n  return withActionId({\n    type: \"requestPermissions\",\n    payload: {\n      permissions,\n      redirectPath\n    }\n  });\n}\nvar actions = {\n  Redirect: createRedirectAction,\n  Notification: createNotificationAction,\n  UpdateRouting: createUpdateRoutingAction,\n  NotifyReady: createNotifyReadyAction,\n  RequestPermissions: createRequestPermissionsAction\n};\n\n// src/app-bridge/app-iframe-params.ts\nvar AppIframeParams = {\n  APP_ID: \"id\",\n  THEME: \"theme\",\n  DOMAIN: \"domain\",\n  SALEOR_API_URL: \"saleorApiUrl\",\n  LOCALE: \"locale\"\n};\n\n// src/app-bridge/events.ts\nvar EventType = {\n  handshake: \"handshake\",\n  response: \"response\",\n  redirect: \"redirect\",\n  theme: \"theme\",\n  localeChanged: \"localeChanged\",\n  tokenRefresh: \"tokenRefresh\"\n};\nvar DashboardEventFactory = {\n  createThemeChangeEvent(theme) {\n    return {\n      payload: {\n        theme\n      },\n      type: \"theme\"\n    };\n  },\n  createRedirectEvent(path) {\n    return {\n      type: \"redirect\",\n      payload: {\n        path\n      }\n    };\n  },\n  createDispatchResponseEvent(actionId, ok) {\n    return {\n      type: \"response\",\n      payload: {\n        actionId,\n        ok\n      }\n    };\n  },\n  createHandshakeEvent(token, version = 1, saleorVersions) {\n    return {\n      type: \"handshake\",\n      payload: {\n        token,\n        version,\n        saleorVersion: saleorVersions?.core,\n        dashboardVersion: saleorVersions?.dashboard\n      }\n    };\n  },\n  createLocaleChangedEvent(newLocale) {\n    return {\n      type: \"localeChanged\",\n      payload: {\n        locale: newLocale\n      }\n    };\n  },\n  createTokenRefreshEvent(newToken) {\n    return {\n      type: \"tokenRefresh\",\n      payload: {\n        token: newToken\n      }\n    };\n  }\n};\n\n// src/app-bridge/app-bridge.ts\n\n\n// src/util/extract-app-permissions-from-jwt.ts\n\nvar extractAppPermissionsFromJwt = (jwtToken) => {\n  const tokenDecoded = jose__WEBPACK_IMPORTED_MODULE_2__.decodeJwt(jwtToken);\n  return tokenDecoded.permissions;\n};\n\n// src/app-bridge/app-bridge-state.ts\nvar AppBridgeStateContainer = class {\n  constructor(options = {}) {\n    this.state = {\n      id: \"\",\n      saleorApiUrl: \"\",\n      ready: false,\n      path: \"/\",\n      theme: \"light\",\n      locale: \"en\"\n    };\n    this.state.locale = options.initialLocale ?? this.state.locale;\n    this.state.theme = options.initialTheme ?? this.state.theme;\n  }\n  getState() {\n    return this.state;\n  }\n  setState(newState) {\n    this.state = {\n      ...this.state,\n      ...newState\n    };\n    return this.state;\n  }\n};\n\n// src/app-bridge/constants.ts\nvar SSR = typeof window === \"undefined\";\n\n// src/app-bridge/app-bridge.ts\nvar DISPATCH_RESPONSE_TIMEOUT = 1e3;\nvar debug = debug__WEBPACK_IMPORTED_MODULE_1__.debug(\"app-sdk:AppBridge\");\nfunction eventStateReducer(state, event) {\n  switch (event.type) {\n    case EventType.handshake: {\n      const userJwtPayload = (0,_chunk_NHGUNOYT_mjs__WEBPACK_IMPORTED_MODULE_0__.extractUserFromJwt)(event.payload.token);\n      const appPermissions = extractAppPermissionsFromJwt(event.payload.token);\n      return {\n        ...state,\n        ready: true,\n        token: event.payload.token,\n        saleorVersion: event.payload.saleorVersion,\n        dashboardVersion: event.payload.dashboardVersion,\n        user: {\n          email: userJwtPayload.email,\n          permissions: userJwtPayload.userPermissions\n        },\n        appPermissions\n      };\n    }\n    case EventType.redirect: {\n      return {\n        ...state,\n        path: event.payload.path\n      };\n    }\n    case EventType.theme: {\n      return {\n        ...state,\n        theme: event.payload.theme\n      };\n    }\n    case EventType.localeChanged: {\n      return {\n        ...state,\n        locale: event.payload.locale\n      };\n    }\n    case EventType.tokenRefresh: {\n      return {\n        ...state,\n        token: event.payload.token\n      };\n    }\n    case EventType.response: {\n      return state;\n    }\n    default: {\n      console.warn(`Invalid event received: ${event?.type}`);\n      return state;\n    }\n  }\n}\nvar createEmptySubscribeMap = () => ({\n  handshake: {},\n  response: {},\n  redirect: {},\n  theme: {},\n  localeChanged: {},\n  tokenRefresh: {}\n});\nvar getLocaleFromUrl = () => new URL(window.location.href).searchParams.get(AppIframeParams.LOCALE) || void 0;\nvar getSaleorApiUrlFromUrl = () => new URL(window.location.href).searchParams.get(AppIframeParams.SALEOR_API_URL) || \"\";\nvar getThemeFromUrl = () => {\n  const value = new URL(window.location.href).searchParams.get(AppIframeParams.THEME);\n  switch (value) {\n    case \"dark\":\n    case \"light\":\n      return value;\n    default:\n      return void 0;\n  }\n};\nvar getDefaultOptions = () => ({\n  saleorApiUrl: getSaleorApiUrlFromUrl(),\n  initialLocale: getLocaleFromUrl() ?? \"en\",\n  autoNotifyReady: true,\n  initialTheme: getThemeFromUrl() ?? void 0\n});\nvar AppBridge = class {\n  constructor(options = {}) {\n    this.refererOrigin = document.referrer ? new URL(document.referrer).origin : void 0;\n    this.subscribeMap = createEmptySubscribeMap();\n    this.combinedOptions = getDefaultOptions();\n    debug(\"Constructor called with options: %j\", options);\n    if (SSR) {\n      throw new Error(\n        \"AppBridge detected you're running this app in SSR mode. Make sure to call `new AppBridge()` when window object exists.\"\n      );\n    }\n    this.combinedOptions = {\n      ...this.combinedOptions,\n      ...options\n    };\n    this.state = new AppBridgeStateContainer({\n      initialLocale: this.combinedOptions.initialLocale\n    });\n    debug(\"Resolved combined AppBridge options: %j\", this.combinedOptions);\n    if (!this.refererOrigin) {\n      console.warn(\"document.referrer is empty\");\n    }\n    if (!this.combinedOptions.saleorApiUrl) {\n      debug(\"?saleorApiUrl was not found in iframe url\");\n    }\n    if (!this.combinedOptions.saleorApiUrl) {\n      console.error(\"saleorApiUrl param was not found in iframe url\");\n    }\n    this.setInitialState();\n    this.listenOnMessages();\n    if (this.combinedOptions.autoNotifyReady) {\n      this.sendNotifyReadyAction();\n    }\n  }\n  /**\n   * Subscribes to an Event.\n   *\n   * @param eventType - Event type.\n   * @param cb - Callback that executes when Event is registered. Called with Event payload object.\n   * @returns Unsubscribe function. Call to unregister the callback.\n   */\n  subscribe(eventType, cb) {\n    debug(\"subscribe() called with event %s and callback %s\", eventType, cb.name);\n    const key = Symbol(\"Callback token\");\n    this.subscribeMap[eventType][key] = cb;\n    return () => {\n      debug(\"unsubscribe called with event %s and callback %s\", eventType, cb.name);\n      delete this.subscribeMap[eventType][key];\n    };\n  }\n  /**\n   * Unsubscribe to all Events of type.\n   * If type not provider, unsubscribe all\n   *\n   * @param eventType - (optional) Event type. If empty, all callbacks will be unsubscribed.\n   */\n  unsubscribeAll(eventType) {\n    if (eventType) {\n      debug(\"unsubscribeAll called with event: %s\", eventType);\n      this.subscribeMap[eventType] = {};\n    } else {\n      debug(\"unsubscribeAll called without argument\");\n      this.subscribeMap = createEmptySubscribeMap();\n    }\n  }\n  /**\n   * Dispatch event to dashboard\n   */\n  async dispatch(action) {\n    debug(\"dispatch called with action argument: %j\", action);\n    return new Promise((resolve, reject) => {\n      if (!window.parent) {\n        debug(\"window.parent doesn't exist, will throw\");\n        reject(new Error(\"Parent window does not exist.\"));\n        return;\n      }\n      debug(\"Calling window.parent.postMessage with %j\", action);\n      window.parent.postMessage(\n        {\n          type: action.type,\n          payload: action.payload\n        },\n        \"*\"\n      );\n      let timeoutId;\n      const unsubscribe = this.subscribe(EventType.response, ({ actionId, ok }) => {\n        debug(\n          \"Subscribing to %s with action id: %s and status 'ok' is: %s\",\n          EventType.response,\n          actionId,\n          ok\n        );\n        if (action.payload.actionId === actionId) {\n          debug(\"Received matching action id: %s. Will unsubscribe\", actionId);\n          unsubscribe();\n          clearTimeout(timeoutId);\n          if (ok) {\n            resolve();\n          } else {\n            reject(\n              new Error(\n                \"Action responded with negative status. This indicates the action method was not used properly.\"\n              )\n            );\n          }\n        }\n      });\n      timeoutId = window.setTimeout(() => {\n        unsubscribe();\n        reject(new Error(\"Action response timed out.\"));\n      }, DISPATCH_RESPONSE_TIMEOUT);\n    });\n  }\n  /**\n   * Gets current state\n   */\n  getState() {\n    debug(\"getState() called and will return %j\", this.state.getState());\n    return this.state.getState();\n  }\n  sendNotifyReadyAction() {\n    this.dispatch(actions.NotifyReady()).catch((e) => {\n      console.error(\"notifyReady action failed\");\n      console.error(e);\n    });\n  }\n  setInitialState() {\n    debug(\"setInitialState() called\");\n    const url = new URL(window.location.href);\n    const id = url.searchParams.get(AppIframeParams.APP_ID) || \"\";\n    const path = window.location.pathname || \"\";\n    const state = {\n      id,\n      path,\n      theme: this.combinedOptions.initialTheme,\n      saleorApiUrl: this.combinedOptions.saleorApiUrl,\n      locale: this.combinedOptions.initialLocale\n    };\n    debug(\"setInitialState() will setState with %j\", state);\n    this.state.setState(state);\n  }\n  listenOnMessages() {\n    debug(\"listenOnMessages() called\");\n    window.addEventListener(\n      \"message\",\n      ({ origin, data }) => {\n        debug(\"Received message from origin: %s and data: %j\", origin, data);\n        if (origin !== this.refererOrigin) {\n          debug(\"Origin from message doesn't match refererOrigin. Function will return now\");\n          return;\n        }\n        const newState = eventStateReducer(this.state.getState(), data);\n        debug(\"Computed new state: %j. Will be set with setState\", newState);\n        this.state.setState(newState);\n        const { type, payload } = data;\n        if (EventType[type]) {\n          Object.getOwnPropertySymbols(this.subscribeMap[type]).forEach((key) => {\n            debug(\"Executing listener for event: %s and payload %j\", type, payload);\n            this.subscribeMap[type][key](payload);\n          });\n        }\n      }\n    );\n  }\n};\n\n// src/app-bridge/app-bridge-provider.tsx\n\n\n\nvar debug2 = debug__WEBPACK_IMPORTED_MODULE_1__.debug(\"app-sdk:AppBridgeProvider\");\nvar AppContext = react__WEBPACK_IMPORTED_MODULE_3__.createContext({\n  appBridge: void 0,\n  mounted: false\n});\nfunction AppBridgeProvider({ appBridgeInstance, ...props }) {\n  debug2(\"Provider mounted\");\n  const [appBridge, setAppBridge] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(appBridgeInstance);\n  (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n    if (!appBridge) {\n      debug2(\"AppBridge not defined, will create new instance\");\n      setAppBridge(appBridgeInstance ?? new AppBridge());\n    } else {\n      debug2(\"AppBridge provided in props, will use this one\");\n    }\n  }, []);\n  const contextValue = (0,react__WEBPACK_IMPORTED_MODULE_3__.useMemo)(\n    () => ({\n      appBridge,\n      mounted: true\n    }),\n    [appBridge]\n  );\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_3__.createElement(AppContext.Provider, { value: contextValue, ...props });\n}\nvar useAppBridge = () => {\n  const { appBridge, mounted } = (0,react__WEBPACK_IMPORTED_MODULE_3__.useContext)(AppContext);\n  const [appBridgeState, setAppBridgeState] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(\n    () => appBridge ? appBridge.getState() : null\n  );\n  if (typeof window !== \"undefined\" && !mounted) {\n    throw new Error(\"useAppBridge used outside of AppBridgeProvider\");\n  }\n  const updateState = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(() => {\n    if (appBridge?.getState()) {\n      debug2(\"Detected state change in AppBridge, will set new state\");\n      setAppBridgeState(appBridge.getState());\n    }\n  }, [appBridge]);\n  (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n    let unsubscribes = [];\n    if (appBridge) {\n      debug2(\"Provider mounted, will set up listeners\");\n      unsubscribes = [\n        appBridge.subscribe(\"handshake\", updateState),\n        appBridge.subscribe(\"theme\", updateState),\n        appBridge.subscribe(\"response\", updateState),\n        appBridge.subscribe(\"redirect\", updateState)\n      ];\n    }\n    return () => {\n      debug2(\"Provider unmounted, will clean up listeners\");\n      unsubscribes.forEach((unsubscribe) => unsubscribe());\n    };\n  }, [appBridge, updateState]);\n  return { appBridge, appBridgeState };\n};\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1ub2RlKS8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQHNhbGVvcithcHAtc2RrQDEuMy4wX2dyYXBocWxAMTYuMTEuMF9uZXh0QDE1LjIuNl9Ab3BlbnRlbGVtZXRyeSthcGlAMS45LjBfQHBsYXl3cmlnaHQrXzg0OTZkODc2NDUzMzNhMjM4MmQ3N2U4ZWNiOWQ4ODc1L25vZGVfbW9kdWxlcy9Ac2FsZW9yL2FwcC1zZGsvY2h1bmstWFdEQVpPWkMubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFOEI7O0FBRTlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQzZCOztBQUU3QjtBQUM2QjtBQUM3QjtBQUNBLHVCQUF1QiwyQ0FBYztBQUNyQztBQUNBOztBQUVBO0FBQ0E7QUFDQSwwQkFBMEI7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsWUFBWSx3Q0FBYztBQUMxQjtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIsdUVBQWtCO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQThDLFlBQVk7QUFDMUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZixjQUFjO0FBQ2QsY0FBYztBQUNkLFdBQVc7QUFDWCxtQkFBbUI7QUFDbkI7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBLDBCQUEwQjtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsZ0VBQWdFLGNBQWM7QUFDOUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLGNBQWM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixnQkFBZ0I7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUM4QjtBQUNDO0FBQytDO0FBQzlFLGFBQWEsd0NBQWU7QUFDNUIsaUJBQWlCLGdEQUFtQjtBQUNwQztBQUNBO0FBQ0EsQ0FBQztBQUNELDZCQUE2Qiw2QkFBNkI7QUFDMUQ7QUFDQSxvQ0FBb0MsK0NBQVE7QUFDNUMsRUFBRSxnREFBUztBQUNYO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0EsR0FBRztBQUNILHVCQUF1Qiw4Q0FBTztBQUM5QjtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLHlCQUF5QixnREFBbUIsd0JBQXdCLCtCQUErQjtBQUNuRztBQUNBO0FBQ0EsVUFBVSxxQkFBcUIsRUFBRSxpREFBVTtBQUMzQyw4Q0FBOEMsK0NBQVE7QUFDdEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQixrREFBVztBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxFQUFFLGdEQUFTO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxXQUFXO0FBQ1g7O0FBWUUiLCJzb3VyY2VzIjpbIi9ob21lL21pY2hhZWwvc2FsZW9yLXBsYXRmb3JtL3NhbGVvci1hcHBzL25vZGVfbW9kdWxlcy8ucG5wbS9Ac2FsZW9yK2FwcC1zZGtAMS4zLjBfZ3JhcGhxbEAxNi4xMS4wX25leHRAMTUuMi42X0BvcGVudGVsZW1ldHJ5K2FwaUAxLjkuMF9AcGxheXdyaWdodCtfODQ5NmQ4NzY0NTMzM2EyMzgyZDc3ZThlY2I5ZDg4NzUvbm9kZV9tb2R1bGVzL0BzYWxlb3IvYXBwLXNkay9jaHVuay1YV0RBWk9aQy5tanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgZXh0cmFjdFVzZXJGcm9tSnd0XG59IGZyb20gXCIuL2NodW5rLU5IR1VOT1lULm1qc1wiO1xuXG4vLyBzcmMvYXBwLWJyaWRnZS9hY3Rpb25zLnRzXG52YXIgQWN0aW9uVHlwZSA9IHtcbiAgLyoqXG4gICAqIEFzayBEYXNoYm9hcmQgdG8gcmVkaXJlY3QgLSBlaXRoZXIgaW50ZXJuYWwgb3IgZXh0ZXJuYWwgcm91dGVcbiAgICovXG4gIHJlZGlyZWN0OiBcInJlZGlyZWN0XCIsXG4gIC8qKlxuICAgKiBBc2sgRGFzaGJvYXJkIHRvIHNlbmQgYSBub3RpZmljYXRpb24gdG9hc3RcbiAgICovXG4gIG5vdGlmaWNhdGlvbjogXCJub3RpZmljYXRpb25cIixcbiAgLyoqXG4gICAqIEFzayBEYXNoYm9hcmQgdG8gdXBkYXRlIGRlZXAgVVJMIHRvIHByZXNlcnZlIGFwcCByb3V0ZSBhZnRlciByZWZyZXNoXG4gICAqL1xuICB1cGRhdGVSb3V0aW5nOiBcInVwZGF0ZVJvdXRpbmdcIixcbiAgLyoqXG4gICAqIEluZm9ybSBEYXNoYm9hcmQgdGhhdCBBcHBCcmlkZ2UgaXMgcmVhZHlcbiAgICovXG4gIG5vdGlmeVJlYWR5OiBcIm5vdGlmeVJlYWR5XCIsXG4gIC8qKlxuICAgKiBSZXF1ZXN0IG9uZSBvciBtb3JlIHBlcm1pc3Npb25zIGZyb20gdGhlIERhc2hib2FyZFxuICAgKlxuICAgKiBBdmFpbGFibGUgZnJvbSAzLjE1XG4gICAqL1xuICByZXF1ZXN0UGVybWlzc2lvbjogXCJyZXF1ZXN0UGVybWlzc2lvbnNcIlxufTtcbmZ1bmN0aW9uIHdpdGhBY3Rpb25JZChhY3Rpb24pIHtcbiAgdHJ5IHtcbiAgICBjb25zdCBhY3Rpb25JZCA9IGdsb2JhbFRoaXMuY3J5cHRvLnJhbmRvbVVVSUQoKTtcbiAgICByZXR1cm4ge1xuICAgICAgLi4uYWN0aW9uLFxuICAgICAgcGF5bG9hZDoge1xuICAgICAgICAuLi5hY3Rpb24ucGF5bG9hZCxcbiAgICAgICAgYWN0aW9uSWRcbiAgICAgIH1cbiAgICB9O1xuICB9IGNhdGNoIChlKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiRmFpbGVkIHRvIGdlbmVyYXRlIGFjdGlvbiBJRC4gUGxlYXNlIGVuc3VyZSB5b3UgYXJlIHVzaW5nIGh0dHBzIG9yIGxvY2FsaG9zdFwiKTtcbiAgfVxufVxuZnVuY3Rpb24gY3JlYXRlUmVkaXJlY3RBY3Rpb24ocGF5bG9hZCkge1xuICByZXR1cm4gd2l0aEFjdGlvbklkKHtcbiAgICBwYXlsb2FkLFxuICAgIHR5cGU6IFwicmVkaXJlY3RcIlxuICB9KTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZU5vdGlmaWNhdGlvbkFjdGlvbihwYXlsb2FkKSB7XG4gIHJldHVybiB3aXRoQWN0aW9uSWQoe1xuICAgIHR5cGU6IFwibm90aWZpY2F0aW9uXCIsXG4gICAgcGF5bG9hZFxuICB9KTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZVVwZGF0ZVJvdXRpbmdBY3Rpb24ocGF5bG9hZCkge1xuICByZXR1cm4gd2l0aEFjdGlvbklkKHtcbiAgICB0eXBlOiBcInVwZGF0ZVJvdXRpbmdcIixcbiAgICBwYXlsb2FkXG4gIH0pO1xufVxuZnVuY3Rpb24gY3JlYXRlTm90aWZ5UmVhZHlBY3Rpb24oKSB7XG4gIHJldHVybiB3aXRoQWN0aW9uSWQoe1xuICAgIHR5cGU6IFwibm90aWZ5UmVhZHlcIixcbiAgICBwYXlsb2FkOiB7fVxuICB9KTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZVJlcXVlc3RQZXJtaXNzaW9uc0FjdGlvbihwZXJtaXNzaW9ucywgcmVkaXJlY3RQYXRoKSB7XG4gIHJldHVybiB3aXRoQWN0aW9uSWQoe1xuICAgIHR5cGU6IFwicmVxdWVzdFBlcm1pc3Npb25zXCIsXG4gICAgcGF5bG9hZDoge1xuICAgICAgcGVybWlzc2lvbnMsXG4gICAgICByZWRpcmVjdFBhdGhcbiAgICB9XG4gIH0pO1xufVxudmFyIGFjdGlvbnMgPSB7XG4gIFJlZGlyZWN0OiBjcmVhdGVSZWRpcmVjdEFjdGlvbixcbiAgTm90aWZpY2F0aW9uOiBjcmVhdGVOb3RpZmljYXRpb25BY3Rpb24sXG4gIFVwZGF0ZVJvdXRpbmc6IGNyZWF0ZVVwZGF0ZVJvdXRpbmdBY3Rpb24sXG4gIE5vdGlmeVJlYWR5OiBjcmVhdGVOb3RpZnlSZWFkeUFjdGlvbixcbiAgUmVxdWVzdFBlcm1pc3Npb25zOiBjcmVhdGVSZXF1ZXN0UGVybWlzc2lvbnNBY3Rpb25cbn07XG5cbi8vIHNyYy9hcHAtYnJpZGdlL2FwcC1pZnJhbWUtcGFyYW1zLnRzXG52YXIgQXBwSWZyYW1lUGFyYW1zID0ge1xuICBBUFBfSUQ6IFwiaWRcIixcbiAgVEhFTUU6IFwidGhlbWVcIixcbiAgRE9NQUlOOiBcImRvbWFpblwiLFxuICBTQUxFT1JfQVBJX1VSTDogXCJzYWxlb3JBcGlVcmxcIixcbiAgTE9DQUxFOiBcImxvY2FsZVwiXG59O1xuXG4vLyBzcmMvYXBwLWJyaWRnZS9ldmVudHMudHNcbnZhciBFdmVudFR5cGUgPSB7XG4gIGhhbmRzaGFrZTogXCJoYW5kc2hha2VcIixcbiAgcmVzcG9uc2U6IFwicmVzcG9uc2VcIixcbiAgcmVkaXJlY3Q6IFwicmVkaXJlY3RcIixcbiAgdGhlbWU6IFwidGhlbWVcIixcbiAgbG9jYWxlQ2hhbmdlZDogXCJsb2NhbGVDaGFuZ2VkXCIsXG4gIHRva2VuUmVmcmVzaDogXCJ0b2tlblJlZnJlc2hcIlxufTtcbnZhciBEYXNoYm9hcmRFdmVudEZhY3RvcnkgPSB7XG4gIGNyZWF0ZVRoZW1lQ2hhbmdlRXZlbnQodGhlbWUpIHtcbiAgICByZXR1cm4ge1xuICAgICAgcGF5bG9hZDoge1xuICAgICAgICB0aGVtZVxuICAgICAgfSxcbiAgICAgIHR5cGU6IFwidGhlbWVcIlxuICAgIH07XG4gIH0sXG4gIGNyZWF0ZVJlZGlyZWN0RXZlbnQocGF0aCkge1xuICAgIHJldHVybiB7XG4gICAgICB0eXBlOiBcInJlZGlyZWN0XCIsXG4gICAgICBwYXlsb2FkOiB7XG4gICAgICAgIHBhdGhcbiAgICAgIH1cbiAgICB9O1xuICB9LFxuICBjcmVhdGVEaXNwYXRjaFJlc3BvbnNlRXZlbnQoYWN0aW9uSWQsIG9rKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHR5cGU6IFwicmVzcG9uc2VcIixcbiAgICAgIHBheWxvYWQ6IHtcbiAgICAgICAgYWN0aW9uSWQsXG4gICAgICAgIG9rXG4gICAgICB9XG4gICAgfTtcbiAgfSxcbiAgY3JlYXRlSGFuZHNoYWtlRXZlbnQodG9rZW4sIHZlcnNpb24gPSAxLCBzYWxlb3JWZXJzaW9ucykge1xuICAgIHJldHVybiB7XG4gICAgICB0eXBlOiBcImhhbmRzaGFrZVwiLFxuICAgICAgcGF5bG9hZDoge1xuICAgICAgICB0b2tlbixcbiAgICAgICAgdmVyc2lvbixcbiAgICAgICAgc2FsZW9yVmVyc2lvbjogc2FsZW9yVmVyc2lvbnM/LmNvcmUsXG4gICAgICAgIGRhc2hib2FyZFZlcnNpb246IHNhbGVvclZlcnNpb25zPy5kYXNoYm9hcmRcbiAgICAgIH1cbiAgICB9O1xuICB9LFxuICBjcmVhdGVMb2NhbGVDaGFuZ2VkRXZlbnQobmV3TG9jYWxlKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHR5cGU6IFwibG9jYWxlQ2hhbmdlZFwiLFxuICAgICAgcGF5bG9hZDoge1xuICAgICAgICBsb2NhbGU6IG5ld0xvY2FsZVxuICAgICAgfVxuICAgIH07XG4gIH0sXG4gIGNyZWF0ZVRva2VuUmVmcmVzaEV2ZW50KG5ld1Rva2VuKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHR5cGU6IFwidG9rZW5SZWZyZXNoXCIsXG4gICAgICBwYXlsb2FkOiB7XG4gICAgICAgIHRva2VuOiBuZXdUb2tlblxuICAgICAgfVxuICAgIH07XG4gIH1cbn07XG5cbi8vIHNyYy9hcHAtYnJpZGdlL2FwcC1icmlkZ2UudHNcbmltcG9ydCBkZWJ1Z1BrZyBmcm9tIFwiZGVidWdcIjtcblxuLy8gc3JjL3V0aWwvZXh0cmFjdC1hcHAtcGVybWlzc2lvbnMtZnJvbS1qd3QudHNcbmltcG9ydCAqIGFzIGpvc2UgZnJvbSBcImpvc2VcIjtcbnZhciBleHRyYWN0QXBwUGVybWlzc2lvbnNGcm9tSnd0ID0gKGp3dFRva2VuKSA9PiB7XG4gIGNvbnN0IHRva2VuRGVjb2RlZCA9IGpvc2UuZGVjb2RlSnd0KGp3dFRva2VuKTtcbiAgcmV0dXJuIHRva2VuRGVjb2RlZC5wZXJtaXNzaW9ucztcbn07XG5cbi8vIHNyYy9hcHAtYnJpZGdlL2FwcC1icmlkZ2Utc3RhdGUudHNcbnZhciBBcHBCcmlkZ2VTdGF0ZUNvbnRhaW5lciA9IGNsYXNzIHtcbiAgY29uc3RydWN0b3Iob3B0aW9ucyA9IHt9KSB7XG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGlkOiBcIlwiLFxuICAgICAgc2FsZW9yQXBpVXJsOiBcIlwiLFxuICAgICAgcmVhZHk6IGZhbHNlLFxuICAgICAgcGF0aDogXCIvXCIsXG4gICAgICB0aGVtZTogXCJsaWdodFwiLFxuICAgICAgbG9jYWxlOiBcImVuXCJcbiAgICB9O1xuICAgIHRoaXMuc3RhdGUubG9jYWxlID0gb3B0aW9ucy5pbml0aWFsTG9jYWxlID8/IHRoaXMuc3RhdGUubG9jYWxlO1xuICAgIHRoaXMuc3RhdGUudGhlbWUgPSBvcHRpb25zLmluaXRpYWxUaGVtZSA/PyB0aGlzLnN0YXRlLnRoZW1lO1xuICB9XG4gIGdldFN0YXRlKCkge1xuICAgIHJldHVybiB0aGlzLnN0YXRlO1xuICB9XG4gIHNldFN0YXRlKG5ld1N0YXRlKSB7XG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIC4uLnRoaXMuc3RhdGUsXG4gICAgICAuLi5uZXdTdGF0ZVxuICAgIH07XG4gICAgcmV0dXJuIHRoaXMuc3RhdGU7XG4gIH1cbn07XG5cbi8vIHNyYy9hcHAtYnJpZGdlL2NvbnN0YW50cy50c1xudmFyIFNTUiA9IHR5cGVvZiB3aW5kb3cgPT09IFwidW5kZWZpbmVkXCI7XG5cbi8vIHNyYy9hcHAtYnJpZGdlL2FwcC1icmlkZ2UudHNcbnZhciBESVNQQVRDSF9SRVNQT05TRV9USU1FT1VUID0gMWUzO1xudmFyIGRlYnVnID0gZGVidWdQa2cuZGVidWcoXCJhcHAtc2RrOkFwcEJyaWRnZVwiKTtcbmZ1bmN0aW9uIGV2ZW50U3RhdGVSZWR1Y2VyKHN0YXRlLCBldmVudCkge1xuICBzd2l0Y2ggKGV2ZW50LnR5cGUpIHtcbiAgICBjYXNlIEV2ZW50VHlwZS5oYW5kc2hha2U6IHtcbiAgICAgIGNvbnN0IHVzZXJKd3RQYXlsb2FkID0gZXh0cmFjdFVzZXJGcm9tSnd0KGV2ZW50LnBheWxvYWQudG9rZW4pO1xuICAgICAgY29uc3QgYXBwUGVybWlzc2lvbnMgPSBleHRyYWN0QXBwUGVybWlzc2lvbnNGcm9tSnd0KGV2ZW50LnBheWxvYWQudG9rZW4pO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgLi4uc3RhdGUsXG4gICAgICAgIHJlYWR5OiB0cnVlLFxuICAgICAgICB0b2tlbjogZXZlbnQucGF5bG9hZC50b2tlbixcbiAgICAgICAgc2FsZW9yVmVyc2lvbjogZXZlbnQucGF5bG9hZC5zYWxlb3JWZXJzaW9uLFxuICAgICAgICBkYXNoYm9hcmRWZXJzaW9uOiBldmVudC5wYXlsb2FkLmRhc2hib2FyZFZlcnNpb24sXG4gICAgICAgIHVzZXI6IHtcbiAgICAgICAgICBlbWFpbDogdXNlckp3dFBheWxvYWQuZW1haWwsXG4gICAgICAgICAgcGVybWlzc2lvbnM6IHVzZXJKd3RQYXlsb2FkLnVzZXJQZXJtaXNzaW9uc1xuICAgICAgICB9LFxuICAgICAgICBhcHBQZXJtaXNzaW9uc1xuICAgICAgfTtcbiAgICB9XG4gICAgY2FzZSBFdmVudFR5cGUucmVkaXJlY3Q6IHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLnN0YXRlLFxuICAgICAgICBwYXRoOiBldmVudC5wYXlsb2FkLnBhdGhcbiAgICAgIH07XG4gICAgfVxuICAgIGNhc2UgRXZlbnRUeXBlLnRoZW1lOiB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5zdGF0ZSxcbiAgICAgICAgdGhlbWU6IGV2ZW50LnBheWxvYWQudGhlbWVcbiAgICAgIH07XG4gICAgfVxuICAgIGNhc2UgRXZlbnRUeXBlLmxvY2FsZUNoYW5nZWQ6IHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLnN0YXRlLFxuICAgICAgICBsb2NhbGU6IGV2ZW50LnBheWxvYWQubG9jYWxlXG4gICAgICB9O1xuICAgIH1cbiAgICBjYXNlIEV2ZW50VHlwZS50b2tlblJlZnJlc2g6IHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLnN0YXRlLFxuICAgICAgICB0b2tlbjogZXZlbnQucGF5bG9hZC50b2tlblxuICAgICAgfTtcbiAgICB9XG4gICAgY2FzZSBFdmVudFR5cGUucmVzcG9uc2U6IHtcbiAgICAgIHJldHVybiBzdGF0ZTtcbiAgICB9XG4gICAgZGVmYXVsdDoge1xuICAgICAgY29uc29sZS53YXJuKGBJbnZhbGlkIGV2ZW50IHJlY2VpdmVkOiAke2V2ZW50Py50eXBlfWApO1xuICAgICAgcmV0dXJuIHN0YXRlO1xuICAgIH1cbiAgfVxufVxudmFyIGNyZWF0ZUVtcHR5U3Vic2NyaWJlTWFwID0gKCkgPT4gKHtcbiAgaGFuZHNoYWtlOiB7fSxcbiAgcmVzcG9uc2U6IHt9LFxuICByZWRpcmVjdDoge30sXG4gIHRoZW1lOiB7fSxcbiAgbG9jYWxlQ2hhbmdlZDoge30sXG4gIHRva2VuUmVmcmVzaDoge31cbn0pO1xudmFyIGdldExvY2FsZUZyb21VcmwgPSAoKSA9PiBuZXcgVVJMKHdpbmRvdy5sb2NhdGlvbi5ocmVmKS5zZWFyY2hQYXJhbXMuZ2V0KEFwcElmcmFtZVBhcmFtcy5MT0NBTEUpIHx8IHZvaWQgMDtcbnZhciBnZXRTYWxlb3JBcGlVcmxGcm9tVXJsID0gKCkgPT4gbmV3IFVSTCh3aW5kb3cubG9jYXRpb24uaHJlZikuc2VhcmNoUGFyYW1zLmdldChBcHBJZnJhbWVQYXJhbXMuU0FMRU9SX0FQSV9VUkwpIHx8IFwiXCI7XG52YXIgZ2V0VGhlbWVGcm9tVXJsID0gKCkgPT4ge1xuICBjb25zdCB2YWx1ZSA9IG5ldyBVUkwod2luZG93LmxvY2F0aW9uLmhyZWYpLnNlYXJjaFBhcmFtcy5nZXQoQXBwSWZyYW1lUGFyYW1zLlRIRU1FKTtcbiAgc3dpdGNoICh2YWx1ZSkge1xuICAgIGNhc2UgXCJkYXJrXCI6XG4gICAgY2FzZSBcImxpZ2h0XCI6XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiB2b2lkIDA7XG4gIH1cbn07XG52YXIgZ2V0RGVmYXVsdE9wdGlvbnMgPSAoKSA9PiAoe1xuICBzYWxlb3JBcGlVcmw6IGdldFNhbGVvckFwaVVybEZyb21VcmwoKSxcbiAgaW5pdGlhbExvY2FsZTogZ2V0TG9jYWxlRnJvbVVybCgpID8/IFwiZW5cIixcbiAgYXV0b05vdGlmeVJlYWR5OiB0cnVlLFxuICBpbml0aWFsVGhlbWU6IGdldFRoZW1lRnJvbVVybCgpID8/IHZvaWQgMFxufSk7XG52YXIgQXBwQnJpZGdlID0gY2xhc3Mge1xuICBjb25zdHJ1Y3RvcihvcHRpb25zID0ge30pIHtcbiAgICB0aGlzLnJlZmVyZXJPcmlnaW4gPSBkb2N1bWVudC5yZWZlcnJlciA/IG5ldyBVUkwoZG9jdW1lbnQucmVmZXJyZXIpLm9yaWdpbiA6IHZvaWQgMDtcbiAgICB0aGlzLnN1YnNjcmliZU1hcCA9IGNyZWF0ZUVtcHR5U3Vic2NyaWJlTWFwKCk7XG4gICAgdGhpcy5jb21iaW5lZE9wdGlvbnMgPSBnZXREZWZhdWx0T3B0aW9ucygpO1xuICAgIGRlYnVnKFwiQ29uc3RydWN0b3IgY2FsbGVkIHdpdGggb3B0aW9uczogJWpcIiwgb3B0aW9ucyk7XG4gICAgaWYgKFNTUikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBcIkFwcEJyaWRnZSBkZXRlY3RlZCB5b3UncmUgcnVubmluZyB0aGlzIGFwcCBpbiBTU1IgbW9kZS4gTWFrZSBzdXJlIHRvIGNhbGwgYG5ldyBBcHBCcmlkZ2UoKWAgd2hlbiB3aW5kb3cgb2JqZWN0IGV4aXN0cy5cIlxuICAgICAgKTtcbiAgICB9XG4gICAgdGhpcy5jb21iaW5lZE9wdGlvbnMgPSB7XG4gICAgICAuLi50aGlzLmNvbWJpbmVkT3B0aW9ucyxcbiAgICAgIC4uLm9wdGlvbnNcbiAgICB9O1xuICAgIHRoaXMuc3RhdGUgPSBuZXcgQXBwQnJpZGdlU3RhdGVDb250YWluZXIoe1xuICAgICAgaW5pdGlhbExvY2FsZTogdGhpcy5jb21iaW5lZE9wdGlvbnMuaW5pdGlhbExvY2FsZVxuICAgIH0pO1xuICAgIGRlYnVnKFwiUmVzb2x2ZWQgY29tYmluZWQgQXBwQnJpZGdlIG9wdGlvbnM6ICVqXCIsIHRoaXMuY29tYmluZWRPcHRpb25zKTtcbiAgICBpZiAoIXRoaXMucmVmZXJlck9yaWdpbikge1xuICAgICAgY29uc29sZS53YXJuKFwiZG9jdW1lbnQucmVmZXJyZXIgaXMgZW1wdHlcIik7XG4gICAgfVxuICAgIGlmICghdGhpcy5jb21iaW5lZE9wdGlvbnMuc2FsZW9yQXBpVXJsKSB7XG4gICAgICBkZWJ1ZyhcIj9zYWxlb3JBcGlVcmwgd2FzIG5vdCBmb3VuZCBpbiBpZnJhbWUgdXJsXCIpO1xuICAgIH1cbiAgICBpZiAoIXRoaXMuY29tYmluZWRPcHRpb25zLnNhbGVvckFwaVVybCkge1xuICAgICAgY29uc29sZS5lcnJvcihcInNhbGVvckFwaVVybCBwYXJhbSB3YXMgbm90IGZvdW5kIGluIGlmcmFtZSB1cmxcIik7XG4gICAgfVxuICAgIHRoaXMuc2V0SW5pdGlhbFN0YXRlKCk7XG4gICAgdGhpcy5saXN0ZW5Pbk1lc3NhZ2VzKCk7XG4gICAgaWYgKHRoaXMuY29tYmluZWRPcHRpb25zLmF1dG9Ob3RpZnlSZWFkeSkge1xuICAgICAgdGhpcy5zZW5kTm90aWZ5UmVhZHlBY3Rpb24oKTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIFN1YnNjcmliZXMgdG8gYW4gRXZlbnQuXG4gICAqXG4gICAqIEBwYXJhbSBldmVudFR5cGUgLSBFdmVudCB0eXBlLlxuICAgKiBAcGFyYW0gY2IgLSBDYWxsYmFjayB0aGF0IGV4ZWN1dGVzIHdoZW4gRXZlbnQgaXMgcmVnaXN0ZXJlZC4gQ2FsbGVkIHdpdGggRXZlbnQgcGF5bG9hZCBvYmplY3QuXG4gICAqIEByZXR1cm5zIFVuc3Vic2NyaWJlIGZ1bmN0aW9uLiBDYWxsIHRvIHVucmVnaXN0ZXIgdGhlIGNhbGxiYWNrLlxuICAgKi9cbiAgc3Vic2NyaWJlKGV2ZW50VHlwZSwgY2IpIHtcbiAgICBkZWJ1ZyhcInN1YnNjcmliZSgpIGNhbGxlZCB3aXRoIGV2ZW50ICVzIGFuZCBjYWxsYmFjayAlc1wiLCBldmVudFR5cGUsIGNiLm5hbWUpO1xuICAgIGNvbnN0IGtleSA9IFN5bWJvbChcIkNhbGxiYWNrIHRva2VuXCIpO1xuICAgIHRoaXMuc3Vic2NyaWJlTWFwW2V2ZW50VHlwZV1ba2V5XSA9IGNiO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBkZWJ1ZyhcInVuc3Vic2NyaWJlIGNhbGxlZCB3aXRoIGV2ZW50ICVzIGFuZCBjYWxsYmFjayAlc1wiLCBldmVudFR5cGUsIGNiLm5hbWUpO1xuICAgICAgZGVsZXRlIHRoaXMuc3Vic2NyaWJlTWFwW2V2ZW50VHlwZV1ba2V5XTtcbiAgICB9O1xuICB9XG4gIC8qKlxuICAgKiBVbnN1YnNjcmliZSB0byBhbGwgRXZlbnRzIG9mIHR5cGUuXG4gICAqIElmIHR5cGUgbm90IHByb3ZpZGVyLCB1bnN1YnNjcmliZSBhbGxcbiAgICpcbiAgICogQHBhcmFtIGV2ZW50VHlwZSAtIChvcHRpb25hbCkgRXZlbnQgdHlwZS4gSWYgZW1wdHksIGFsbCBjYWxsYmFja3Mgd2lsbCBiZSB1bnN1YnNjcmliZWQuXG4gICAqL1xuICB1bnN1YnNjcmliZUFsbChldmVudFR5cGUpIHtcbiAgICBpZiAoZXZlbnRUeXBlKSB7XG4gICAgICBkZWJ1ZyhcInVuc3Vic2NyaWJlQWxsIGNhbGxlZCB3aXRoIGV2ZW50OiAlc1wiLCBldmVudFR5cGUpO1xuICAgICAgdGhpcy5zdWJzY3JpYmVNYXBbZXZlbnRUeXBlXSA9IHt9O1xuICAgIH0gZWxzZSB7XG4gICAgICBkZWJ1ZyhcInVuc3Vic2NyaWJlQWxsIGNhbGxlZCB3aXRob3V0IGFyZ3VtZW50XCIpO1xuICAgICAgdGhpcy5zdWJzY3JpYmVNYXAgPSBjcmVhdGVFbXB0eVN1YnNjcmliZU1hcCgpO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogRGlzcGF0Y2ggZXZlbnQgdG8gZGFzaGJvYXJkXG4gICAqL1xuICBhc3luYyBkaXNwYXRjaChhY3Rpb24pIHtcbiAgICBkZWJ1ZyhcImRpc3BhdGNoIGNhbGxlZCB3aXRoIGFjdGlvbiBhcmd1bWVudDogJWpcIiwgYWN0aW9uKTtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgaWYgKCF3aW5kb3cucGFyZW50KSB7XG4gICAgICAgIGRlYnVnKFwid2luZG93LnBhcmVudCBkb2Vzbid0IGV4aXN0LCB3aWxsIHRocm93XCIpO1xuICAgICAgICByZWplY3QobmV3IEVycm9yKFwiUGFyZW50IHdpbmRvdyBkb2VzIG5vdCBleGlzdC5cIikpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBkZWJ1ZyhcIkNhbGxpbmcgd2luZG93LnBhcmVudC5wb3N0TWVzc2FnZSB3aXRoICVqXCIsIGFjdGlvbik7XG4gICAgICB3aW5kb3cucGFyZW50LnBvc3RNZXNzYWdlKFxuICAgICAgICB7XG4gICAgICAgICAgdHlwZTogYWN0aW9uLnR5cGUsXG4gICAgICAgICAgcGF5bG9hZDogYWN0aW9uLnBheWxvYWRcbiAgICAgICAgfSxcbiAgICAgICAgXCIqXCJcbiAgICAgICk7XG4gICAgICBsZXQgdGltZW91dElkO1xuICAgICAgY29uc3QgdW5zdWJzY3JpYmUgPSB0aGlzLnN1YnNjcmliZShFdmVudFR5cGUucmVzcG9uc2UsICh7IGFjdGlvbklkLCBvayB9KSA9PiB7XG4gICAgICAgIGRlYnVnKFxuICAgICAgICAgIFwiU3Vic2NyaWJpbmcgdG8gJXMgd2l0aCBhY3Rpb24gaWQ6ICVzIGFuZCBzdGF0dXMgJ29rJyBpczogJXNcIixcbiAgICAgICAgICBFdmVudFR5cGUucmVzcG9uc2UsXG4gICAgICAgICAgYWN0aW9uSWQsXG4gICAgICAgICAgb2tcbiAgICAgICAgKTtcbiAgICAgICAgaWYgKGFjdGlvbi5wYXlsb2FkLmFjdGlvbklkID09PSBhY3Rpb25JZCkge1xuICAgICAgICAgIGRlYnVnKFwiUmVjZWl2ZWQgbWF0Y2hpbmcgYWN0aW9uIGlkOiAlcy4gV2lsbCB1bnN1YnNjcmliZVwiLCBhY3Rpb25JZCk7XG4gICAgICAgICAgdW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICBjbGVhclRpbWVvdXQodGltZW91dElkKTtcbiAgICAgICAgICBpZiAob2spIHtcbiAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVqZWN0KFxuICAgICAgICAgICAgICBuZXcgRXJyb3IoXG4gICAgICAgICAgICAgICAgXCJBY3Rpb24gcmVzcG9uZGVkIHdpdGggbmVnYXRpdmUgc3RhdHVzLiBUaGlzIGluZGljYXRlcyB0aGUgYWN0aW9uIG1ldGhvZCB3YXMgbm90IHVzZWQgcHJvcGVybHkuXCJcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgdGltZW91dElkID0gd2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICB1bnN1YnNjcmliZSgpO1xuICAgICAgICByZWplY3QobmV3IEVycm9yKFwiQWN0aW9uIHJlc3BvbnNlIHRpbWVkIG91dC5cIikpO1xuICAgICAgfSwgRElTUEFUQ0hfUkVTUE9OU0VfVElNRU9VVCk7XG4gICAgfSk7XG4gIH1cbiAgLyoqXG4gICAqIEdldHMgY3VycmVudCBzdGF0ZVxuICAgKi9cbiAgZ2V0U3RhdGUoKSB7XG4gICAgZGVidWcoXCJnZXRTdGF0ZSgpIGNhbGxlZCBhbmQgd2lsbCByZXR1cm4gJWpcIiwgdGhpcy5zdGF0ZS5nZXRTdGF0ZSgpKTtcbiAgICByZXR1cm4gdGhpcy5zdGF0ZS5nZXRTdGF0ZSgpO1xuICB9XG4gIHNlbmROb3RpZnlSZWFkeUFjdGlvbigpIHtcbiAgICB0aGlzLmRpc3BhdGNoKGFjdGlvbnMuTm90aWZ5UmVhZHkoKSkuY2F0Y2goKGUpID0+IHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJub3RpZnlSZWFkeSBhY3Rpb24gZmFpbGVkXCIpO1xuICAgICAgY29uc29sZS5lcnJvcihlKTtcbiAgICB9KTtcbiAgfVxuICBzZXRJbml0aWFsU3RhdGUoKSB7XG4gICAgZGVidWcoXCJzZXRJbml0aWFsU3RhdGUoKSBjYWxsZWRcIik7XG4gICAgY29uc3QgdXJsID0gbmV3IFVSTCh3aW5kb3cubG9jYXRpb24uaHJlZik7XG4gICAgY29uc3QgaWQgPSB1cmwuc2VhcmNoUGFyYW1zLmdldChBcHBJZnJhbWVQYXJhbXMuQVBQX0lEKSB8fCBcIlwiO1xuICAgIGNvbnN0IHBhdGggPSB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUgfHwgXCJcIjtcbiAgICBjb25zdCBzdGF0ZSA9IHtcbiAgICAgIGlkLFxuICAgICAgcGF0aCxcbiAgICAgIHRoZW1lOiB0aGlzLmNvbWJpbmVkT3B0aW9ucy5pbml0aWFsVGhlbWUsXG4gICAgICBzYWxlb3JBcGlVcmw6IHRoaXMuY29tYmluZWRPcHRpb25zLnNhbGVvckFwaVVybCxcbiAgICAgIGxvY2FsZTogdGhpcy5jb21iaW5lZE9wdGlvbnMuaW5pdGlhbExvY2FsZVxuICAgIH07XG4gICAgZGVidWcoXCJzZXRJbml0aWFsU3RhdGUoKSB3aWxsIHNldFN0YXRlIHdpdGggJWpcIiwgc3RhdGUpO1xuICAgIHRoaXMuc3RhdGUuc2V0U3RhdGUoc3RhdGUpO1xuICB9XG4gIGxpc3Rlbk9uTWVzc2FnZXMoKSB7XG4gICAgZGVidWcoXCJsaXN0ZW5Pbk1lc3NhZ2VzKCkgY2FsbGVkXCIpO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgXCJtZXNzYWdlXCIsXG4gICAgICAoeyBvcmlnaW4sIGRhdGEgfSkgPT4ge1xuICAgICAgICBkZWJ1ZyhcIlJlY2VpdmVkIG1lc3NhZ2UgZnJvbSBvcmlnaW46ICVzIGFuZCBkYXRhOiAlalwiLCBvcmlnaW4sIGRhdGEpO1xuICAgICAgICBpZiAob3JpZ2luICE9PSB0aGlzLnJlZmVyZXJPcmlnaW4pIHtcbiAgICAgICAgICBkZWJ1ZyhcIk9yaWdpbiBmcm9tIG1lc3NhZ2UgZG9lc24ndCBtYXRjaCByZWZlcmVyT3JpZ2luLiBGdW5jdGlvbiB3aWxsIHJldHVybiBub3dcIik7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG5ld1N0YXRlID0gZXZlbnRTdGF0ZVJlZHVjZXIodGhpcy5zdGF0ZS5nZXRTdGF0ZSgpLCBkYXRhKTtcbiAgICAgICAgZGVidWcoXCJDb21wdXRlZCBuZXcgc3RhdGU6ICVqLiBXaWxsIGJlIHNldCB3aXRoIHNldFN0YXRlXCIsIG5ld1N0YXRlKTtcbiAgICAgICAgdGhpcy5zdGF0ZS5zZXRTdGF0ZShuZXdTdGF0ZSk7XG4gICAgICAgIGNvbnN0IHsgdHlwZSwgcGF5bG9hZCB9ID0gZGF0YTtcbiAgICAgICAgaWYgKEV2ZW50VHlwZVt0eXBlXSkge1xuICAgICAgICAgIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHModGhpcy5zdWJzY3JpYmVNYXBbdHlwZV0pLmZvckVhY2goKGtleSkgPT4ge1xuICAgICAgICAgICAgZGVidWcoXCJFeGVjdXRpbmcgbGlzdGVuZXIgZm9yIGV2ZW50OiAlcyBhbmQgcGF5bG9hZCAlalwiLCB0eXBlLCBwYXlsb2FkKTtcbiAgICAgICAgICAgIHRoaXMuc3Vic2NyaWJlTWFwW3R5cGVdW2tleV0ocGF5bG9hZCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICApO1xuICB9XG59O1xuXG4vLyBzcmMvYXBwLWJyaWRnZS9hcHAtYnJpZGdlLXByb3ZpZGVyLnRzeFxuaW1wb3J0IGRlYnVnUGtnMiBmcm9tIFwiZGVidWdcIjtcbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgdXNlQ2FsbGJhY2ssIHVzZUNvbnRleHQsIHVzZUVmZmVjdCwgdXNlTWVtbywgdXNlU3RhdGUgfSBmcm9tIFwicmVhY3RcIjtcbnZhciBkZWJ1ZzIgPSBkZWJ1Z1BrZzIuZGVidWcoXCJhcHAtc2RrOkFwcEJyaWRnZVByb3ZpZGVyXCIpO1xudmFyIEFwcENvbnRleHQgPSBSZWFjdC5jcmVhdGVDb250ZXh0KHtcbiAgYXBwQnJpZGdlOiB2b2lkIDAsXG4gIG1vdW50ZWQ6IGZhbHNlXG59KTtcbmZ1bmN0aW9uIEFwcEJyaWRnZVByb3ZpZGVyKHsgYXBwQnJpZGdlSW5zdGFuY2UsIC4uLnByb3BzIH0pIHtcbiAgZGVidWcyKFwiUHJvdmlkZXIgbW91bnRlZFwiKTtcbiAgY29uc3QgW2FwcEJyaWRnZSwgc2V0QXBwQnJpZGdlXSA9IHVzZVN0YXRlKGFwcEJyaWRnZUluc3RhbmNlKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoIWFwcEJyaWRnZSkge1xuICAgICAgZGVidWcyKFwiQXBwQnJpZGdlIG5vdCBkZWZpbmVkLCB3aWxsIGNyZWF0ZSBuZXcgaW5zdGFuY2VcIik7XG4gICAgICBzZXRBcHBCcmlkZ2UoYXBwQnJpZGdlSW5zdGFuY2UgPz8gbmV3IEFwcEJyaWRnZSgpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZGVidWcyKFwiQXBwQnJpZGdlIHByb3ZpZGVkIGluIHByb3BzLCB3aWxsIHVzZSB0aGlzIG9uZVwiKTtcbiAgICB9XG4gIH0sIFtdKTtcbiAgY29uc3QgY29udGV4dFZhbHVlID0gdXNlTWVtbyhcbiAgICAoKSA9PiAoe1xuICAgICAgYXBwQnJpZGdlLFxuICAgICAgbW91bnRlZDogdHJ1ZVxuICAgIH0pLFxuICAgIFthcHBCcmlkZ2VdXG4gICk7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3QuY3JlYXRlRWxlbWVudChBcHBDb250ZXh0LlByb3ZpZGVyLCB7IHZhbHVlOiBjb250ZXh0VmFsdWUsIC4uLnByb3BzIH0pO1xufVxudmFyIHVzZUFwcEJyaWRnZSA9ICgpID0+IHtcbiAgY29uc3QgeyBhcHBCcmlkZ2UsIG1vdW50ZWQgfSA9IHVzZUNvbnRleHQoQXBwQ29udGV4dCk7XG4gIGNvbnN0IFthcHBCcmlkZ2VTdGF0ZSwgc2V0QXBwQnJpZGdlU3RhdGVdID0gdXNlU3RhdGUoXG4gICAgKCkgPT4gYXBwQnJpZGdlID8gYXBwQnJpZGdlLmdldFN0YXRlKCkgOiBudWxsXG4gICk7XG4gIGlmICh0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiICYmICFtb3VudGVkKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwidXNlQXBwQnJpZGdlIHVzZWQgb3V0c2lkZSBvZiBBcHBCcmlkZ2VQcm92aWRlclwiKTtcbiAgfVxuICBjb25zdCB1cGRhdGVTdGF0ZSA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBpZiAoYXBwQnJpZGdlPy5nZXRTdGF0ZSgpKSB7XG4gICAgICBkZWJ1ZzIoXCJEZXRlY3RlZCBzdGF0ZSBjaGFuZ2UgaW4gQXBwQnJpZGdlLCB3aWxsIHNldCBuZXcgc3RhdGVcIik7XG4gICAgICBzZXRBcHBCcmlkZ2VTdGF0ZShhcHBCcmlkZ2UuZ2V0U3RhdGUoKSk7XG4gICAgfVxuICB9LCBbYXBwQnJpZGdlXSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgbGV0IHVuc3Vic2NyaWJlcyA9IFtdO1xuICAgIGlmIChhcHBCcmlkZ2UpIHtcbiAgICAgIGRlYnVnMihcIlByb3ZpZGVyIG1vdW50ZWQsIHdpbGwgc2V0IHVwIGxpc3RlbmVyc1wiKTtcbiAgICAgIHVuc3Vic2NyaWJlcyA9IFtcbiAgICAgICAgYXBwQnJpZGdlLnN1YnNjcmliZShcImhhbmRzaGFrZVwiLCB1cGRhdGVTdGF0ZSksXG4gICAgICAgIGFwcEJyaWRnZS5zdWJzY3JpYmUoXCJ0aGVtZVwiLCB1cGRhdGVTdGF0ZSksXG4gICAgICAgIGFwcEJyaWRnZS5zdWJzY3JpYmUoXCJyZXNwb25zZVwiLCB1cGRhdGVTdGF0ZSksXG4gICAgICAgIGFwcEJyaWRnZS5zdWJzY3JpYmUoXCJyZWRpcmVjdFwiLCB1cGRhdGVTdGF0ZSlcbiAgICAgIF07XG4gICAgfVxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBkZWJ1ZzIoXCJQcm92aWRlciB1bm1vdW50ZWQsIHdpbGwgY2xlYW4gdXAgbGlzdGVuZXJzXCIpO1xuICAgICAgdW5zdWJzY3JpYmVzLmZvckVhY2goKHVuc3Vic2NyaWJlKSA9PiB1bnN1YnNjcmliZSgpKTtcbiAgICB9O1xuICB9LCBbYXBwQnJpZGdlLCB1cGRhdGVTdGF0ZV0pO1xuICByZXR1cm4geyBhcHBCcmlkZ2UsIGFwcEJyaWRnZVN0YXRlIH07XG59O1xuXG5leHBvcnQge1xuICBBY3Rpb25UeXBlLFxuICBhY3Rpb25zLFxuICBBcHBJZnJhbWVQYXJhbXMsXG4gIEV2ZW50VHlwZSxcbiAgRGFzaGJvYXJkRXZlbnRGYWN0b3J5LFxuICBBcHBCcmlkZ2UsXG4gIEFwcENvbnRleHQsXG4gIEFwcEJyaWRnZVByb3ZpZGVyLFxuICB1c2VBcHBCcmlkZ2Vcbn07XG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(pages-dir-node)/../../node_modules/.pnpm/@saleor+app-sdk@1.3.0_graphql@16.11.0_next@15.2.6_@opentelemetry+api@1.9.0_@playwright+_8496d87645333a2382d77e8ecb9d8875/node_modules/@saleor/app-sdk/chunk-XWDAZOZC.mjs\n");

/***/ }),

/***/ "(pages-dir-node)/../../node_modules/.pnpm/@saleor+app-sdk@1.3.0_graphql@16.11.0_next@15.2.6_@opentelemetry+api@1.9.0_@playwright+_8496d87645333a2382d77e8ecb9d8875/node_modules/@saleor/app-sdk/headers.mjs":
/*!**************************************************************************************************************************************************************************************************!*\
  !*** ../../node_modules/.pnpm/@saleor+app-sdk@1.3.0_graphql@16.11.0_next@15.2.6_@opentelemetry+api@1.9.0_@playwright+_8496d87645333a2382d77e8ecb9d8875/node_modules/@saleor/app-sdk/headers.mjs ***!
  \**************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SALEOR_API_URL_HEADER: () => (/* reexport safe */ _chunk_FTAQRPFZ_mjs__WEBPACK_IMPORTED_MODULE_0__.SALEOR_API_URL_HEADER),\n/* harmony export */   SALEOR_AUTHORIZATION_BEARER_HEADER: () => (/* reexport safe */ _chunk_FTAQRPFZ_mjs__WEBPACK_IMPORTED_MODULE_0__.SALEOR_AUTHORIZATION_BEARER_HEADER),\n/* harmony export */   SALEOR_EVENT_HEADER: () => (/* reexport safe */ _chunk_FTAQRPFZ_mjs__WEBPACK_IMPORTED_MODULE_0__.SALEOR_EVENT_HEADER),\n/* harmony export */   SALEOR_SCHEMA_VERSION_HEADER: () => (/* reexport safe */ _chunk_FTAQRPFZ_mjs__WEBPACK_IMPORTED_MODULE_0__.SALEOR_SCHEMA_VERSION_HEADER),\n/* harmony export */   SALEOR_SIGNATURE_HEADER: () => (/* reexport safe */ _chunk_FTAQRPFZ_mjs__WEBPACK_IMPORTED_MODULE_0__.SALEOR_SIGNATURE_HEADER),\n/* harmony export */   getBaseUrl: () => (/* reexport safe */ _chunk_FTAQRPFZ_mjs__WEBPACK_IMPORTED_MODULE_0__.getBaseUrl),\n/* harmony export */   getSaleorHeaders: () => (/* reexport safe */ _chunk_FTAQRPFZ_mjs__WEBPACK_IMPORTED_MODULE_0__.getSaleorHeaders)\n/* harmony export */ });\n/* harmony import */ var _chunk_FTAQRPFZ_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chunk-FTAQRPFZ.mjs */ \"(pages-dir-node)/../../node_modules/.pnpm/@saleor+app-sdk@1.3.0_graphql@16.11.0_next@15.2.6_@opentelemetry+api@1.9.0_@playwright+_8496d87645333a2382d77e8ecb9d8875/node_modules/@saleor/app-sdk/chunk-FTAQRPFZ.mjs\");\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1ub2RlKS8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQHNhbGVvcithcHAtc2RrQDEuMy4wX2dyYXBocWxAMTYuMTEuMF9uZXh0QDE1LjIuNl9Ab3BlbnRlbGVtZXRyeSthcGlAMS45LjBfQHBsYXl3cmlnaHQrXzg0OTZkODc2NDUzMzNhMjM4MmQ3N2U4ZWNiOWQ4ODc1L25vZGVfbW9kdWxlcy9Ac2FsZW9yL2FwcC1zZGsvaGVhZGVycy5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFROEI7QUFTNUIiLCJzb3VyY2VzIjpbIi9ob21lL21pY2hhZWwvc2FsZW9yLXBsYXRmb3JtL3NhbGVvci1hcHBzL25vZGVfbW9kdWxlcy8ucG5wbS9Ac2FsZW9yK2FwcC1zZGtAMS4zLjBfZ3JhcGhxbEAxNi4xMS4wX25leHRAMTUuMi42X0BvcGVudGVsZW1ldHJ5K2FwaUAxLjkuMF9AcGxheXdyaWdodCtfODQ5NmQ4NzY0NTMzM2EyMzgyZDc3ZThlY2I5ZDg4NzUvbm9kZV9tb2R1bGVzL0BzYWxlb3IvYXBwLXNkay9oZWFkZXJzLm1qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBTQUxFT1JfQVBJX1VSTF9IRUFERVIsXG4gIFNBTEVPUl9BVVRIT1JJWkFUSU9OX0JFQVJFUl9IRUFERVIsXG4gIFNBTEVPUl9FVkVOVF9IRUFERVIsXG4gIFNBTEVPUl9TQ0hFTUFfVkVSU0lPTl9IRUFERVIsXG4gIFNBTEVPUl9TSUdOQVRVUkVfSEVBREVSLFxuICBnZXRCYXNlVXJsLFxuICBnZXRTYWxlb3JIZWFkZXJzXG59IGZyb20gXCIuL2NodW5rLUZUQVFSUEZaLm1qc1wiO1xuZXhwb3J0IHtcbiAgU0FMRU9SX0FQSV9VUkxfSEVBREVSLFxuICBTQUxFT1JfQVVUSE9SSVpBVElPTl9CRUFSRVJfSEVBREVSLFxuICBTQUxFT1JfRVZFTlRfSEVBREVSLFxuICBTQUxFT1JfU0NIRU1BX1ZFUlNJT05fSEVBREVSLFxuICBTQUxFT1JfU0lHTkFUVVJFX0hFQURFUixcbiAgZ2V0QmFzZVVybCxcbiAgZ2V0U2FsZW9ySGVhZGVyc1xufTtcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(pages-dir-node)/../../node_modules/.pnpm/@saleor+app-sdk@1.3.0_graphql@16.11.0_next@15.2.6_@opentelemetry+api@1.9.0_@playwright+_8496d87645333a2382d77e8ecb9d8875/node_modules/@saleor/app-sdk/headers.mjs\n");

/***/ })

};
;
"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@urql+exchange-auth@2.1.4_graphql@16.11.0";
exports.ids = ["vendor-chunks/@urql+exchange-auth@2.1.4_graphql@16.11.0"];
exports.modules = {

/***/ "(pages-dir-node)/../../node_modules/.pnpm/@urql+exchange-auth@2.1.4_graphql@16.11.0/node_modules/@urql/exchange-auth/dist/urql-exchange-auth.mjs":
/*!***************************************************************************************************************************************!*\
  !*** ../../node_modules/.pnpm/@urql+exchange-auth@2.1.4_graphql@16.11.0/node_modules/@urql/exchange-auth/dist/urql-exchange-auth.mjs ***!
  \***************************************************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   authExchange: () => (/* binding */ authExchange)\n/* harmony export */ });\n/* harmony import */ var wonka__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! wonka */ \"(pages-dir-node)/../../node_modules/.pnpm/wonka@6.3.2/node_modules/wonka/dist/wonka.mjs\");\n/* harmony import */ var _urql_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @urql/core */ \"(pages-dir-node)/../../node_modules/.pnpm/@urql+core@4.0.10_graphql@16.11.0/node_modules/@urql/core/dist/urql-core.mjs\");\n/* harmony import */ var _urql_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @urql/core */ \"(pages-dir-node)/../../node_modules/.pnpm/@urql+core@4.0.10_graphql@16.11.0/node_modules/@urql/core/dist/urql-core-chunk.mjs\");\n\n\n\n\nvar addAuthAttemptToOperation = (t, e) => (0,_urql_core__WEBPACK_IMPORTED_MODULE_0__.makeOperation)(t.kind, t, {\n  ...t.context,\n  authAttempt: e\n});\n\nfunction authExchange(c) {\n  return ({client: s, forward: f}) => {\n    var d = new Set;\n    var p = (0,wonka__WEBPACK_IMPORTED_MODULE_1__.makeSubject)();\n    var l = new Map;\n    function flushQueue(t) {\n      if (t) {\n        A = t;\n      }\n      x = void 0;\n      var e = l;\n      l = new Map;\n      e.forEach(p.next);\n    }\n    var x;\n    var A = null;\n    return t => {\n      x = Promise.resolve().then((() => c({\n        mutate(t, a, u) {\n          var h = s.createRequestOperation(\"mutation\", (0,_urql_core__WEBPACK_IMPORTED_MODULE_2__.h)(t, a), u);\n          return (0,wonka__WEBPACK_IMPORTED_MODULE_1__.toPromise)((0,wonka__WEBPACK_IMPORTED_MODULE_1__.take)(1)((0,wonka__WEBPACK_IMPORTED_MODULE_1__.filter)((t => t.operation.key === h.key && h.context._instance === t.operation.context._instance))((0,wonka__WEBPACK_IMPORTED_MODULE_1__.onStart)((() => {\n            var t = addAuthToOperation(h);\n            d.add(t.context._instance);\n            p.next(t);\n          }))(m))));\n        },\n        appendHeaders(t, e) {\n          var r = \"function\" == typeof t.context.fetchOptions ? t.context.fetchOptions() : t.context.fetchOptions || {};\n          return (0,_urql_core__WEBPACK_IMPORTED_MODULE_0__.makeOperation)(t.kind, t, {\n            ...t.context,\n            fetchOptions: {\n              ...r,\n              headers: {\n                ...r.headers,\n                ...e\n              }\n            }\n          });\n        }\n      }))).then(flushQueue);\n      function refreshAuth(t) {\n        l.set(t.key, addAuthAttemptToOperation(t, !0));\n        if (A && !x) {\n          x = A.refreshAuth().finally(flushQueue);\n        }\n      }\n      function addAuthToOperation(t) {\n        return A ? A.addAuthToOperation(t) : t;\n      }\n      var v = (0,wonka__WEBPACK_IMPORTED_MODULE_1__.filter)(Boolean)((0,wonka__WEBPACK_IMPORTED_MODULE_1__.map)((t => {\n        if (\"teardown\" === t.kind) {\n          l.delete(t.key);\n          return t;\n        } else if (t.context._instance && d.has(t.context._instance)) {\n          return t;\n        } else if (t.context.authAttempt) {\n          return addAuthToOperation(t);\n        } else if (x) {\n          if (!l.has(t.key)) {\n            l.set(t.key, addAuthAttemptToOperation(t, !1));\n          }\n          return null;\n        } else if (function willAuthError(t) {\n          return !t.context.authAttempt && A && A.willAuthError && A.willAuthError(t);\n        }(t)) {\n          refreshAuth(t);\n          return null;\n        }\n        return addAuthToOperation(addAuthAttemptToOperation(t, !1));\n      }))((0,wonka__WEBPACK_IMPORTED_MODULE_1__.merge)([ p.source, t ])));\n      var m = f(v);\n      return (0,wonka__WEBPACK_IMPORTED_MODULE_1__.filter)((t => {\n        if (!d.has(t.operation.context._instance) && t.error && function didAuthError(t) {\n          return A && A.didAuthError && A.didAuthError(t.error, t.operation);\n        }(t) && !t.operation.context.authAttempt) {\n          refreshAuth(t.operation);\n          return !1;\n        }\n        if (d.has(t.operation.context._instance)) {\n          d.delete(t.operation.context._instance);\n        }\n        return !0;\n      }))(m);\n    };\n  };\n}\n\n\n//# sourceMappingURL=urql-exchange-auth.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1ub2RlKS8uLi8uLi9ub2RlX21vZHVsZXMvLnBucG0vQHVycWwrZXhjaGFuZ2UtYXV0aEAyLjEuNF9ncmFwaHFsQDE2LjExLjAvbm9kZV9tb2R1bGVzL0B1cnFsL2V4Y2hhbmdlLWF1dGgvZGlzdC91cnFsLWV4Y2hhbmdlLWF1dGgubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBcUg7O0FBRWpEOztBQUVwRSwwQ0FBMEMseURBQUM7QUFDM0M7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQSxXQUFXLHNCQUFzQjtBQUNqQztBQUNBLFlBQVksa0RBQUM7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1REFBdUQsNkNBQUM7QUFDeEQsaUJBQWlCLGdEQUFDLENBQUMsMkNBQUMsSUFBSSw2Q0FBQyw0RkFBNEYsOENBQUM7QUFDdEg7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYLFNBQVM7QUFDVDtBQUNBO0FBQ0EsaUJBQWlCLHlEQUFDO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyw2Q0FBQyxVQUFVLDBDQUFDO0FBQzFCO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBLFVBQVU7QUFDVjtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU8sR0FBRyw0Q0FBQztBQUNYO0FBQ0EsYUFBYSw2Q0FBQztBQUNkO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBOztBQUV3QjtBQUN4QiIsInNvdXJjZXMiOlsiL2hvbWUvbWljaGFlbC9zYWxlb3ItcGxhdGZvcm0vc2FsZW9yLWFwcHMvbm9kZV9tb2R1bGVzLy5wbnBtL0B1cnFsK2V4Y2hhbmdlLWF1dGhAMi4xLjRfZ3JhcGhxbEAxNi4xMS4wL25vZGVfbW9kdWxlcy9AdXJxbC9leGNoYW5nZS1hdXRoL2Rpc3QvdXJxbC1leGNoYW5nZS1hdXRoLm1qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBtYWtlU3ViamVjdCBhcyB0LCB0b1Byb21pc2UgYXMgZSwgdGFrZSBhcyByLCBmaWx0ZXIgYXMgbiwgb25TdGFydCBhcyBvLCBtYXAgYXMgYSwgbWVyZ2UgYXMgdSB9IGZyb20gXCJ3b25rYVwiO1xuXG5pbXBvcnQgeyBjcmVhdGVSZXF1ZXN0IGFzIGksIG1ha2VPcGVyYXRpb24gYXMgaCB9IGZyb20gXCJAdXJxbC9jb3JlXCI7XG5cbnZhciBhZGRBdXRoQXR0ZW1wdFRvT3BlcmF0aW9uID0gKHQsIGUpID0+IGgodC5raW5kLCB0LCB7XG4gIC4uLnQuY29udGV4dCxcbiAgYXV0aEF0dGVtcHQ6IGVcbn0pO1xuXG5mdW5jdGlvbiBhdXRoRXhjaGFuZ2UoYykge1xuICByZXR1cm4gKHtjbGllbnQ6IHMsIGZvcndhcmQ6IGZ9KSA9PiB7XG4gICAgdmFyIGQgPSBuZXcgU2V0O1xuICAgIHZhciBwID0gdCgpO1xuICAgIHZhciBsID0gbmV3IE1hcDtcbiAgICBmdW5jdGlvbiBmbHVzaFF1ZXVlKHQpIHtcbiAgICAgIGlmICh0KSB7XG4gICAgICAgIEEgPSB0O1xuICAgICAgfVxuICAgICAgeCA9IHZvaWQgMDtcbiAgICAgIHZhciBlID0gbDtcbiAgICAgIGwgPSBuZXcgTWFwO1xuICAgICAgZS5mb3JFYWNoKHAubmV4dCk7XG4gICAgfVxuICAgIHZhciB4O1xuICAgIHZhciBBID0gbnVsbDtcbiAgICByZXR1cm4gdCA9PiB7XG4gICAgICB4ID0gUHJvbWlzZS5yZXNvbHZlKCkudGhlbigoKCkgPT4gYyh7XG4gICAgICAgIG11dGF0ZSh0LCBhLCB1KSB7XG4gICAgICAgICAgdmFyIGggPSBzLmNyZWF0ZVJlcXVlc3RPcGVyYXRpb24oXCJtdXRhdGlvblwiLCBpKHQsIGEpLCB1KTtcbiAgICAgICAgICByZXR1cm4gZShyKDEpKG4oKHQgPT4gdC5vcGVyYXRpb24ua2V5ID09PSBoLmtleSAmJiBoLmNvbnRleHQuX2luc3RhbmNlID09PSB0Lm9wZXJhdGlvbi5jb250ZXh0Ll9pbnN0YW5jZSkpKG8oKCgpID0+IHtcbiAgICAgICAgICAgIHZhciB0ID0gYWRkQXV0aFRvT3BlcmF0aW9uKGgpO1xuICAgICAgICAgICAgZC5hZGQodC5jb250ZXh0Ll9pbnN0YW5jZSk7XG4gICAgICAgICAgICBwLm5leHQodCk7XG4gICAgICAgICAgfSkpKG0pKSkpO1xuICAgICAgICB9LFxuICAgICAgICBhcHBlbmRIZWFkZXJzKHQsIGUpIHtcbiAgICAgICAgICB2YXIgciA9IFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgdC5jb250ZXh0LmZldGNoT3B0aW9ucyA/IHQuY29udGV4dC5mZXRjaE9wdGlvbnMoKSA6IHQuY29udGV4dC5mZXRjaE9wdGlvbnMgfHwge307XG4gICAgICAgICAgcmV0dXJuIGgodC5raW5kLCB0LCB7XG4gICAgICAgICAgICAuLi50LmNvbnRleHQsXG4gICAgICAgICAgICBmZXRjaE9wdGlvbnM6IHtcbiAgICAgICAgICAgICAgLi4ucixcbiAgICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgIC4uLnIuaGVhZGVycyxcbiAgICAgICAgICAgICAgICAuLi5lXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSkpKS50aGVuKGZsdXNoUXVldWUpO1xuICAgICAgZnVuY3Rpb24gcmVmcmVzaEF1dGgodCkge1xuICAgICAgICBsLnNldCh0LmtleSwgYWRkQXV0aEF0dGVtcHRUb09wZXJhdGlvbih0LCAhMCkpO1xuICAgICAgICBpZiAoQSAmJiAheCkge1xuICAgICAgICAgIHggPSBBLnJlZnJlc2hBdXRoKCkuZmluYWxseShmbHVzaFF1ZXVlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZnVuY3Rpb24gYWRkQXV0aFRvT3BlcmF0aW9uKHQpIHtcbiAgICAgICAgcmV0dXJuIEEgPyBBLmFkZEF1dGhUb09wZXJhdGlvbih0KSA6IHQ7XG4gICAgICB9XG4gICAgICB2YXIgdiA9IG4oQm9vbGVhbikoYSgodCA9PiB7XG4gICAgICAgIGlmIChcInRlYXJkb3duXCIgPT09IHQua2luZCkge1xuICAgICAgICAgIGwuZGVsZXRlKHQua2V5KTtcbiAgICAgICAgICByZXR1cm4gdDtcbiAgICAgICAgfSBlbHNlIGlmICh0LmNvbnRleHQuX2luc3RhbmNlICYmIGQuaGFzKHQuY29udGV4dC5faW5zdGFuY2UpKSB7XG4gICAgICAgICAgcmV0dXJuIHQ7XG4gICAgICAgIH0gZWxzZSBpZiAodC5jb250ZXh0LmF1dGhBdHRlbXB0KSB7XG4gICAgICAgICAgcmV0dXJuIGFkZEF1dGhUb09wZXJhdGlvbih0KTtcbiAgICAgICAgfSBlbHNlIGlmICh4KSB7XG4gICAgICAgICAgaWYgKCFsLmhhcyh0LmtleSkpIHtcbiAgICAgICAgICAgIGwuc2V0KHQua2V5LCBhZGRBdXRoQXR0ZW1wdFRvT3BlcmF0aW9uKHQsICExKSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9IGVsc2UgaWYgKGZ1bmN0aW9uIHdpbGxBdXRoRXJyb3IodCkge1xuICAgICAgICAgIHJldHVybiAhdC5jb250ZXh0LmF1dGhBdHRlbXB0ICYmIEEgJiYgQS53aWxsQXV0aEVycm9yICYmIEEud2lsbEF1dGhFcnJvcih0KTtcbiAgICAgICAgfSh0KSkge1xuICAgICAgICAgIHJlZnJlc2hBdXRoKHQpO1xuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhZGRBdXRoVG9PcGVyYXRpb24oYWRkQXV0aEF0dGVtcHRUb09wZXJhdGlvbih0LCAhMSkpO1xuICAgICAgfSkpKHUoWyBwLnNvdXJjZSwgdCBdKSkpO1xuICAgICAgdmFyIG0gPSBmKHYpO1xuICAgICAgcmV0dXJuIG4oKHQgPT4ge1xuICAgICAgICBpZiAoIWQuaGFzKHQub3BlcmF0aW9uLmNvbnRleHQuX2luc3RhbmNlKSAmJiB0LmVycm9yICYmIGZ1bmN0aW9uIGRpZEF1dGhFcnJvcih0KSB7XG4gICAgICAgICAgcmV0dXJuIEEgJiYgQS5kaWRBdXRoRXJyb3IgJiYgQS5kaWRBdXRoRXJyb3IodC5lcnJvciwgdC5vcGVyYXRpb24pO1xuICAgICAgICB9KHQpICYmICF0Lm9wZXJhdGlvbi5jb250ZXh0LmF1dGhBdHRlbXB0KSB7XG4gICAgICAgICAgcmVmcmVzaEF1dGgodC5vcGVyYXRpb24pO1xuICAgICAgICAgIHJldHVybiAhMTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZC5oYXModC5vcGVyYXRpb24uY29udGV4dC5faW5zdGFuY2UpKSB7XG4gICAgICAgICAgZC5kZWxldGUodC5vcGVyYXRpb24uY29udGV4dC5faW5zdGFuY2UpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAhMDtcbiAgICAgIH0pKShtKTtcbiAgICB9O1xuICB9O1xufVxuXG5leHBvcnQgeyBhdXRoRXhjaGFuZ2UgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXVycWwtZXhjaGFuZ2UtYXV0aC5tanMubWFwXG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(pages-dir-node)/../../node_modules/.pnpm/@urql+exchange-auth@2.1.4_graphql@16.11.0/node_modules/@urql/exchange-auth/dist/urql-exchange-auth.mjs\n");

/***/ })

};
;